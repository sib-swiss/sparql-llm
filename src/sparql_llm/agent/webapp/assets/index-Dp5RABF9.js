var hr=Object.defineProperty;var pr=(s,e,t)=>e in s?hr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ee=(s,e,t)=>pr(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const dr=!1,gr=(s,e)=>s===e,br=Symbol("solid-track"),Tn={equals:gr};let Ds=Us;const ht=1,An=2,Ps={owned:null,cleanups:null,context:null,owner:null};var _e=null;let Un=null,mr=null,he=null,ve=null,st=null,Nn=0;function yn(s,e){const t=he,n=_e,r=s.length===0,i=e===void 0?n:e,o=r?Ps:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?s:()=>s(()=>sn(()=>nn(o)));_e=o,he=null;try{return on(l,!0)}finally{he=t,_e=n}}function He(s,e){e=e?Object.assign({},Tn,e):Tn;const t={value:s,observers:null,observerSlots:null,comparator:e.equals||void 0},n=r=>(typeof r=="function"&&(r=r(t.value)),zs(t,r));return[Bs.bind(t),n]}function Ue(s,e,t){const n=Jn(s,e,!1,ht);rn(n)}function ps(s,e,t){Ds=kr;const n=Jn(s,e,!1,ht);n.user=!0,st?st.push(n):rn(n)}function Qt(s,e,t){t=t?Object.assign({},Tn,t):Tn;const n=Jn(s,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,rn(n),Bs.bind(n)}function sn(s){if(he===null)return s();const e=he;he=null;try{return s()}finally{he=e}}function _r(s){return _e===null||(_e.cleanups===null?_e.cleanups=[s]:_e.cleanups.push(s)),s}function Bs(){if(this.sources&&this.state)if(this.state===ht)rn(this);else{const s=ve;ve=null,on(()=>Rn(this),!1),ve=s}if(he){const s=this.observers?this.observers.length:0;he.sources?(he.sources.push(this),he.sourceSlots.push(s)):(he.sources=[this],he.sourceSlots=[s]),this.observers?(this.observers.push(he),this.observerSlots.push(he.sources.length-1)):(this.observers=[he],this.observerSlots=[he.sources.length-1])}return this.value}function zs(s,e,t){let n=s.value;return(!s.comparator||!s.comparator(n,e))&&(s.value=e,s.observers&&s.observers.length&&on(()=>{for(let r=0;r<s.observers.length;r+=1){const i=s.observers[r],o=Un&&Un.running;o&&Un.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?ve.push(i):st.push(i),i.observers&&Hs(i)),o||(i.state=ht)}if(ve.length>1e6)throw ve=[],new Error},!1)),e}function rn(s){if(!s.fn)return;nn(s);const e=Nn;wr(s,s.value,e)}function wr(s,e,t){let n;const r=_e,i=he;he=_e=s;try{n=s.fn(e)}catch(o){return s.pure&&(s.state=ht,s.owned&&s.owned.forEach(nn),s.owned=null),s.updatedAt=t+1,Fs(o)}finally{he=i,_e=r}(!s.updatedAt||s.updatedAt<=t)&&(s.updatedAt!=null&&"observers"in s?zs(s,n):s.value=n,s.updatedAt=t)}function Jn(s,e,t,n=ht,r){const i={fn:s,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:_e,context:_e?_e.context:null,pure:t};return _e===null||_e!==Ps&&(_e.owned?_e.owned.push(i):_e.owned=[i]),i}function Sn(s){if(s.state===0)return;if(s.state===An)return Rn(s);if(s.suspense&&sn(s.suspense.inFallback))return s.suspense.effects.push(s);const e=[s];for(;(s=s.owner)&&(!s.updatedAt||s.updatedAt<Nn);)s.state&&e.push(s);for(let t=e.length-1;t>=0;t--)if(s=e[t],s.state===ht)rn(s);else if(s.state===An){const n=ve;ve=null,on(()=>Rn(s,e[0]),!1),ve=n}}function on(s,e){if(ve)return s();let t=!1;e||(ve=[]),st?t=!0:st=[],Nn++;try{const n=s();return xr(t),n}catch(n){t||(st=null),ve=null,Fs(n)}}function xr(s){if(ve&&(Us(ve),ve=null),s)return;const e=st;st=null,e.length&&on(()=>Ds(e),!1)}function Us(s){for(let e=0;e<s.length;e++)Sn(s[e])}function kr(s){let e,t=0;for(e=0;e<s.length;e++){const n=s[e];n.user?s[t++]=n:Sn(n)}for(e=0;e<t;e++)Sn(s[e])}function Rn(s,e){s.state=0;for(let t=0;t<s.sources.length;t+=1){const n=s.sources[t];if(n.sources){const r=n.state;r===ht?n!==e&&(!n.updatedAt||n.updatedAt<Nn)&&Sn(n):r===An&&Rn(n,e)}}}function Hs(s){for(let e=0;e<s.observers.length;e+=1){const t=s.observers[e];t.state||(t.state=An,t.pure?ve.push(t):st.push(t),t.observers&&Hs(t))}}function nn(s){let e;if(s.sources)for(;s.sources.length;){const t=s.sources.pop(),n=s.sourceSlots.pop(),r=t.observers;if(r&&r.length){const i=r.pop(),o=t.observerSlots.pop();n<r.length&&(i.sourceSlots[o]=n,r[n]=i,t.observerSlots[n]=o)}}if(s.tOwned){for(e=s.tOwned.length-1;e>=0;e--)nn(s.tOwned[e]);delete s.tOwned}if(s.owned){for(e=s.owned.length-1;e>=0;e--)nn(s.owned[e]);s.owned=null}if(s.cleanups){for(e=s.cleanups.length-1;e>=0;e--)s.cleanups[e]();s.cleanups=null}s.state=0}function yr(s){return s instanceof Error?s:new Error(typeof s=="string"?s:"Unknown error",{cause:s})}function Fs(s,e=_e){throw yr(s)}const Er=Symbol("fallback");function ds(s){for(let e=0;e<s.length;e++)s[e]()}function Tr(s,e,t={}){let n=[],r=[],i=[],o=0,l=e.length>1?[]:null;return _r(()=>ds(i)),()=>{let h=s()||[],u=h.length,f,d;return h[br],sn(()=>{let T,M,x,X,ne,se,j,I,V;if(u===0)o!==0&&(ds(i),i=[],n=[],r=[],o=0,l&&(l=[])),t.fallback&&(n=[Er],r[0]=yn(xe=>(i[0]=xe,t.fallback())),o=1);else if(o===0){for(r=new Array(u),d=0;d<u;d++)n[d]=h[d],r[d]=yn(y);o=u}else{for(x=new Array(u),X=new Array(u),l&&(ne=new Array(u)),se=0,j=Math.min(o,u);se<j&&n[se]===h[se];se++);for(j=o-1,I=u-1;j>=se&&I>=se&&n[j]===h[I];j--,I--)x[I]=r[j],X[I]=i[j],l&&(ne[I]=l[j]);for(T=new Map,M=new Array(I+1),d=I;d>=se;d--)V=h[d],f=T.get(V),M[d]=f===void 0?-1:f,T.set(V,d);for(f=se;f<=j;f++)V=n[f],d=T.get(V),d!==void 0&&d!==-1?(x[d]=r[f],X[d]=i[f],l&&(ne[d]=l[f]),d=M[d],T.set(V,d)):i[f]();for(d=se;d<u;d++)d in x?(r[d]=x[d],i[d]=X[d],l&&(l[d]=ne[d],l[d](d))):r[d]=yn(y);r=r.slice(0,o=u),n=h.slice(0)}return r});function y(T){if(i[d]=T,l){const[M,x]=He(d);return l[d]=x,e(h[d],M)}return e(h[d])}}}function Lt(s,e){return sn(()=>s(e||{}))}function It(s){const e="fallback"in s&&{fallback:()=>s.fallback};return Qt(Tr(()=>s.each,s.children,e||void 0))}function Ar(s,e,t){let n=t.length,r=e.length,i=n,o=0,l=0,h=e[r-1].nextSibling,u=null;for(;o<r||l<i;){if(e[o]===t[l]){o++,l++;continue}for(;e[r-1]===t[i-1];)r--,i--;if(r===o){const f=i<n?l?t[l-1].nextSibling:t[i-l]:h;for(;l<i;)s.insertBefore(t[l++],f)}else if(i===l)for(;o<r;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[i-1]&&t[l]===e[r-1]){const f=e[--r].nextSibling;s.insertBefore(t[l++],e[o++].nextSibling),s.insertBefore(t[--i],f),e[r]=t[i]}else{if(!u){u=new Map;let d=l;for(;d<i;)u.set(t[d],d++)}const f=u.get(e[o]);if(f!=null)if(l<f&&f<i){let d=o,y=1,T;for(;++d<r&&d<i&&!((T=u.get(e[d]))==null||T!==f+y);)y++;if(y>f-l){const M=e[o];for(;l<f;)s.insertBefore(t[l++],M)}else s.replaceChild(t[l++],e[o++])}else o++;else e[o++].remove()}}}const gs="_$DX_DELEGATE";function Oe(s,e,t,n){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=s,l.content.firstChild},o=()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function Sr(s,e=window.document){const t=e[gs]||(e[gs]=new Set);for(let n=0,r=s.length;n<r;n++){const i=s[n];t.has(i)||(t.add(i),e.addEventListener(i,Rr))}}function be(s,e,t){t==null?s.removeAttribute(e):s.setAttribute(e,t)}function $t(s,e){e==null?s.removeAttribute("class"):s.className=e}function bs(s,e,t){return sn(()=>s(e,t))}function me(s,e,t,n){if(t!==void 0&&!n&&(n=[]),typeof e!="function")return vn(s,e,n,t);Ue(r=>vn(s,e(),r,t),n)}function Rr(s){let e=s.target;const t=`$$${s.type}`,n=s.target,r=s.currentTarget,i=h=>Object.defineProperty(s,"target",{configurable:!0,value:h}),o=()=>{const h=e[t];if(h&&!e.disabled){const u=e[`${t}Data`];if(u!==void 0?h.call(e,u,s):h.call(e,s),s.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(s.target)&&i(e.host),!0},l=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(s,"currentTarget",{configurable:!0,get(){return e||document}}),s.composedPath){const h=s.composedPath();i(h[0]);for(let u=0;u<h.length-2&&(e=h[u],!!o());u++){if(e._$host){e=e._$host,l();break}if(e.parentNode===r)break}}else l();i(n)}function vn(s,e,t,n,r){for(;typeof t=="function";)t=t();if(e===t)return t;const i=typeof e,o=n!==void 0;if(s=o&&t[0]&&t[0].parentNode||s,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===t))return t;if(o){let l=t[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),t=Dt(s,t,n,l)}else t!==""&&typeof t=="string"?t=s.firstChild.data=e:t=s.textContent=e}else if(e==null||i==="boolean")t=Dt(s,t,n);else{if(i==="function")return Ue(()=>{let l=e();for(;typeof l=="function";)l=l();t=vn(s,l,t,n)}),()=>t;if(Array.isArray(e)){const l=[],h=t&&Array.isArray(t);if(Zn(l,e,t,r))return Ue(()=>t=vn(s,l,t,n,!0)),()=>t;if(l.length===0){if(t=Dt(s,t,n),o)return t}else h?t.length===0?ms(s,l,n):Ar(s,t,l):(t&&Dt(s),ms(s,l));t=l}else if(e.nodeType){if(Array.isArray(t)){if(o)return t=Dt(s,t,n,e);Dt(s,t,null,e)}else t==null||t===""||!s.firstChild?s.appendChild(e):s.replaceChild(e,s.firstChild);t=e}}return t}function Zn(s,e,t,n){let r=!1;for(let i=0,o=e.length;i<o;i++){let l=e[i],h=t&&t[s.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)s.push(l);else if(Array.isArray(l))r=Zn(s,l,h)||r;else if(u==="function")if(n){for(;typeof l=="function";)l=l();r=Zn(s,Array.isArray(l)?l:[l],Array.isArray(h)?h:[h])||r}else s.push(l),r=!0;else{const f=String(l);h&&h.nodeType===3&&h.data===f?s.push(h):s.push(document.createTextNode(f))}}return r}function ms(s,e,t=null){for(let n=0,r=e.length;n<r;n++)s.insertBefore(e[n],t)}function Dt(s,e,t,n){if(t===void 0)return s.textContent="";const r=n||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(r!==l){const h=l.parentNode===s;!i&&!o?h?s.replaceChild(r,l):s.insertBefore(r,t):h&&l.remove()}else i=!0}}else s.insertBefore(r,t);return[r]}function vr(s){return Object.keys(s).reduce((t,n)=>{const r=s[n];return t[n]=Object.assign({},r),Gs(r.value)&&!Lr(r.value)&&!Array.isArray(r.value)&&(t[n].value=Object.assign({},r.value)),Array.isArray(r.value)&&(t[n].value=r.value.slice(0)),t},{})}function Or(s){return s?Object.keys(s).reduce((t,n)=>{const r=s[n];return t[n]=Gs(r)&&"value"in r?r:{value:r},t[n].attribute||(t[n].attribute=Nr(n)),t[n].parse="parse"in t[n]?t[n].parse:typeof t[n].value!="string",t},{}):{}}function Cr(s){return Object.keys(s).reduce((t,n)=>(t[n]=s[n].value,t),{})}function Mr(s,e){const t=vr(e);return Object.keys(e).forEach(r=>{const i=t[r],o=s.getAttribute(i.attribute),l=s[r];o!=null&&(i.value=i.parse?js(o):o),l!=null&&(i.value=Array.isArray(l)?l.slice(0):l),i.reflect&&_s(s,i.attribute,i.value,!!i.parse),Object.defineProperty(s,r,{get(){return i.value},set(h){const u=i.value;i.value=h,i.reflect&&_s(this,i.attribute,i.value,!!i.parse);for(let f=0,d=this.__propertyChangedCallbacks.length;f<d;f++)this.__propertyChangedCallbacks[f](r,h,u)},enumerable:!0,configurable:!0})}),t}function js(s){if(s)try{return JSON.parse(s)}catch{return s}}function _s(s,e,t,n){if(t==null||t===!1)return s.removeAttribute(e);let r=n?JSON.stringify(t):t;s.__updating[e]=!0,r==="true"&&(r=""),s.setAttribute(e,r),Promise.resolve().then(()=>delete s.__updating[e])}function Nr(s){return s.replace(/\.?([A-Z]+)/g,(e,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")}function Gs(s){return s!=null&&(typeof s=="object"||typeof s=="function")}function Lr(s){return Object.prototype.toString.call(s)==="[object Function]"}function Ir(s){return typeof s=="function"&&s.toString().indexOf("class")===0}let Jt;function $r(){Object.defineProperty(Jt,"renderRoot",{value:Jt})}function Dr(s,e){const t=Object.keys(e);return class extends s{static get observedAttributes(){return t.map(r=>e[r].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=Mr(this,e);const r=Cr(this.props),i=this.Component,o=Jt;try{Jt=this,this.__initialized=!0,Ir(i)?new i(r,{element:this}):i(r,{element:this})}finally{Jt=o}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let r=null;for(;r=this.__releaseCallbacks.pop();)r(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(r,i,o){if(this.__initialized&&!this.__updating[r]&&(r=this.lookupProp(r),r in e)){if(o==null&&!this[r])return;this[r]=e[r].parse?js(o):o}}lookupProp(r){if(e)return t.find(i=>r===i||r===e[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(r){this.__releaseCallbacks.push(r)}addPropertyChangedCallback(r){this.__propertyChangedCallbacks.push(r)}}}function Pr(s,e={},t={}){const{BaseElement:n=HTMLElement,extension:r,customElements:i=window.customElements}=t;return o=>{let l=i.get(s);return l?(l.prototype.Component=o,l):(l=Dr(n,Or(e)),l.prototype.Component=o,l.prototype.registeredTag=s,i.define(s,l,r),l)}}function Br(s){const e=Object.keys(s),t={};for(let n=0;n<e.length;n++){const[r,i]=He(s[e[n]]);Object.defineProperty(t,e[n],{get:r,set(o){i(()=>o)}})}return t}function zr(s){if(s.assignedSlot&&s.assignedSlot._$owner)return s.assignedSlot._$owner;let e=s.parentNode;for(;e&&!e._$owner&&!(e.assignedSlot&&e.assignedSlot._$owner);)e=e.parentNode;return e&&e.assignedSlot?e.assignedSlot._$owner:s._$owner}function Ur(s){return(e,t)=>{const{element:n}=t;return yn(r=>{const i=Br(e);n.addPropertyChangedCallback((l,h)=>i[l]=h),n.addReleaseCallback(()=>{n.renderRoot.textContent="",r()});const o=s(i,t);return me(n.renderRoot,o)},zr(n))}}function Hr(s,e,t){return arguments.length===2&&(t=e,e={}),Pr(s,e)(Ur(t))}function es(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Et=es();function qs(s){Et=s}const en={exec:()=>null};function Z(s,e=""){let t=typeof s=="string"?s:s.source;const n={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Ne.caret,"$1"),t=t.replace(r,o),n},getRegex:()=>new RegExp(t,e)};return n}const Ne={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},Fr=/^(?:[ \t]*(?:\n|$))+/,jr=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Gr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ln=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qr=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ws=/(?:[*+-]|\d{1,9}[.)])/,Ks=Z(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ws).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ts=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wr=/^[^\n]+/,ns=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Kr=Z(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ns).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Yr=Z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ws).getRegex(),Ln="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ss=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Zr=Z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ss).replace("tag",Ln).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ys=Z(ts).replace("hr",ln).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex(),Xr=Z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ys).getRegex(),rs={blockquote:Xr,code:jr,def:Kr,fences:Gr,heading:qr,hr:ln,html:Zr,lheading:Ks,list:Yr,newline:Fr,paragraph:Ys,table:en,text:Wr},ws=Z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ln).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex(),Vr={...rs,table:ws,paragraph:Z(ts).replace("hr",ln).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ws).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex()},Qr={...rs,html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ss).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:en,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(ts).replace("hr",ln).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ks).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Zs=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Jr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xs=/^( {2,}|\\)\n(?!\s*$)/,ei=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,In=/[\p{P}\p{S}]/u,is=/[\s\p{P}\p{S}]/u,Vs=/[^\s\p{P}\p{S}]/u,ti=Z(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,is).getRegex(),ni=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,si=Z(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,In).getRegex(),ri=Z("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,Vs).replace(/punctSpace/g,is).replace(/punct/g,In).getRegex(),ii=Z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Vs).replace(/punctSpace/g,is).replace(/punct/g,In).getRegex(),oi=Z(/\\(punct)/,"gu").replace(/punct/g,In).getRegex(),li=Z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ai=Z(ss).replace("(?:-->|$)","-->").getRegex(),ci=Z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ai).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),On=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ui=Z(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",On).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Qs=Z(/^!?\[(label)\]\[(ref)\]/).replace("label",On).replace("ref",ns).getRegex(),Js=Z(/^!?\[(ref)\](?:\[\])?/).replace("ref",ns).getRegex(),fi=Z("reflink|nolink(?!\\()","g").replace("reflink",Qs).replace("nolink",Js).getRegex(),os={_backpedal:en,anyPunctuation:oi,autolink:li,blockSkip:ni,br:Xs,code:Jr,del:en,emStrongLDelim:si,emStrongRDelimAst:ri,emStrongRDelimUnd:ii,escape:Zs,link:ui,nolink:Js,punctuation:ti,reflink:Qs,reflinkSearch:fi,tag:ci,text:ei,url:en},hi={...os,link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",On).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",On).getRegex()},Xn={...os,escape:Z(Zs).replace("])","~|])").getRegex(),url:Z(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},pi={...Xn,br:Z(Xs).replace("{2,}","*").getRegex(),text:Z(Xn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},wn={normal:rs,gfm:Vr,pedantic:Qr},qt={normal:os,gfm:Xn,breaks:pi,pedantic:hi},di={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xs=s=>di[s];function Je(s,e){if(e){if(Ne.escapeTest.test(s))return s.replace(Ne.escapeReplace,xs)}else if(Ne.escapeTestNoEncode.test(s))return s.replace(Ne.escapeReplaceNoEncode,xs);return s}function ks(s){try{s=encodeURI(s).replace(Ne.percentDecode,"%")}catch{return null}return s}function ys(s,e){var i;const t=s.replace(Ne.findPipe,(o,l,h)=>{let u=!1,f=l;for(;--f>=0&&h[f]==="\\";)u=!u;return u?"|":" |"}),n=t.split(Ne.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Ne.slashPipe,"|");return n}function Wt(s,e,t){const n=s.length;if(n===0)return"";let r=0;for(;r<n&&s.charAt(n-r-1)===e;)r++;return s.slice(0,n-r)}function gi(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return-1}function Es(s,e,t,n,r){const i=e.href,o=e.title||null,l=s[1].replace(r.other.outputLinkReplace,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const h={type:"link",raw:t,href:i,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,h}return{type:"image",raw:t,href:i,title:o,text:l}}function bi(s,e,t){const n=s.match(t.other.indentCodeCompensation);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const o=i.match(t.other.beginningSpace);if(o===null)return i;const[l]=o;return l.length>=r.length?i.slice(r.length):i}).join(`
`)}class Cn{constructor(e){ee(this,"options");ee(this,"rules");ee(this,"lexer");this.options=e||Et}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Wt(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=bi(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=Wt(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Wt(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Wt(t[0],`
`).split(`
`),r="",i="";const o=[];for(;n.length>0;){let l=!1;const h=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))h.push(n[u]),l=!0;else if(!l)h.push(n[u]);else break;n=n.slice(u);const f=h.join(`
`),d=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${f}`:f,i=i?`${i}
${d}`:d;const y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,o,!0),this.lexer.state.top=y,n.length===0)break;const T=o.at(-1);if((T==null?void 0:T.type)==="code")break;if((T==null?void 0:T.type)==="blockquote"){const M=T,x=M.raw+`
`+n.join(`
`),X=this.blockquote(x);o[o.length-1]=X,r=r.substring(0,r.length-M.raw.length)+X.raw,i=i.substring(0,i.length-M.text.length)+X.text;break}else if((T==null?void 0:T.type)==="list"){const M=T,x=M.raw+`
`+n.join(`
`),X=this.list(x);o[o.length-1]=X,r=r.substring(0,r.length-T.raw.length)+X.raw,i=i.substring(0,i.length-M.raw.length)+X.raw,n=x.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let l=!1;for(;e;){let u=!1,f="",d="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let y=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,se=>" ".repeat(3*se.length)),T=e.split(`
`,1)[0],M=!y.trim(),x=0;if(this.options.pedantic?(x=2,d=y.trimStart()):M?x=t[1].length+1:(x=t[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,d=y.slice(x),x+=t[1].length),M&&this.rules.other.blankLine.test(T)&&(f+=T+`
`,e=e.substring(T.length+1),u=!0),!u){const se=this.rules.other.nextBulletRegex(x),j=this.rules.other.hrRegex(x),I=this.rules.other.fencesBeginRegex(x),V=this.rules.other.headingBeginRegex(x),xe=this.rules.other.htmlBeginRegex(x);for(;e;){const ke=e.split(`
`,1)[0];let $;if(T=ke,this.options.pedantic?(T=T.replace(this.rules.other.listReplaceNesting,"  "),$=T):$=T.replace(this.rules.other.tabCharGlobal,"    "),I.test(T)||V.test(T)||xe.test(T)||se.test(T)||j.test(T))break;if($.search(this.rules.other.nonSpaceChar)>=x||!T.trim())d+=`
`+$.slice(x);else{if(M||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(y)||V.test(y)||j.test(y))break;d+=`
`+T}!M&&!T.trim()&&(M=!0),f+=ke+`
`,e=e.substring(ke.length+1),y=$.slice(x)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let X=null,ne;this.options.gfm&&(X=this.rules.other.listIsTask.exec(d),X&&(ne=X[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:f,task:!!X,checked:ne,loose:!1,text:d,tokens:[]}),i.raw+=f}const h=i.items.at(-1);h&&(h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd()),i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const f=i.items[u].tokens.filter(y=>y.type==="space"),d=f.length>0&&f.some(y=>this.rules.other.anyLine.test(y.raw));i.loose=d}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){var l;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=ys(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(l=t[3])!=null&&l.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const h of r)this.rules.other.tableAlignRight.test(h)?o.align.push("right"):this.rules.other.tableAlignCenter.test(h)?o.align.push("center"):this.rules.other.tableAlignLeft.test(h)?o.align.push("left"):o.align.push(null);for(let h=0;h<n.length;h++)o.header.push({text:n[h],tokens:this.lexer.inline(n[h]),header:!0,align:o.align[h]});for(const h of i)o.rows.push(ys(h,o.header.length).map((u,f)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[f]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=Wt(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=gi(t[2],"()");if(o>-1){const h=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,h).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Es(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Es(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...r[0]].length-1;let l,h,u=o,f=0;const d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(r=d.exec(t))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(h=[...l].length,r[3]||r[4]){u+=h;continue}else if((r[5]||r[6])&&o%3&&!((o+h)%3)){f+=h;continue}if(u-=h,u>0)continue;h=Math.min(h,h+u+f);const y=[...r[0]][0].length,T=e.slice(0,o+r.index+y+h);if(Math.min(o,h)%2){const x=T.slice(1,-1);return{type:"em",raw:T,text:x,tokens:this.lexer.inlineTokens(x)}}const M=T.slice(2,-2);return{type:"strong",raw:T,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=t[0],i="mailto:"+r;else{let o;do o=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(o!==t[0]);r=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class qe{constructor(e){ee(this,"tokens");ee(this,"options");ee(this,"state");ee(this,"tokenizer");ee(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Et,this.options.tokenizer=this.options.tokenizer||new Cn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Ne,block:wn.normal,inline:qt.normal};this.options.pedantic?(t.block=wn.pedantic,t.inline=qt.pedantic):this.options.gfm&&(t.block=wn.gfm,this.options.breaks?t.inline=qt.breaks:t.inline=qt.gfm),this.tokenizer.rules=t}static get rules(){return{block:wn,inline:qt}}static lex(e,t){return new qe(t).lex(e)}static lexInline(e,t){return new qe(t).inlineTokens(e)}lex(e){e=e.replace(Ne.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var r,i,o;for(this.options.pedantic&&(e=e.replace(Ne.tabCharGlobal,"    ").replace(Ne.spaceLine,""));e;){let l;if((i=(r=this.options.extensions)==null?void 0:r.block)!=null&&i.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);const u=t.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);const u=t.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);const u=t.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}let h=e;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0;const f=e.slice(1);let d;this.options.extensions.startBlock.forEach(y=>{d=y.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(h=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(h))){const u=t.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):t.push(l),n=h.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);const u=t.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var l,h,u;let n=e,r=null;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)f.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let f;if((h=(l=this.options.extensions)==null?void 0:l.inline)!=null&&h.some(y=>(f=y.call({lexer:this},e,t))?(e=e.substring(f.raw.length),t.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);const y=t.at(-1);f.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=f.raw,y.text+=f.text):t.push(f);continue}if(f=this.tokenizer.emStrong(e,n,o)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),t.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),t.push(f);continue}let d=e;if((u=this.options.extensions)!=null&&u.startInline){let y=1/0;const T=e.slice(1);let M;this.options.extensions.startInline.forEach(x=>{M=x.call({lexer:this},T),typeof M=="number"&&M>=0&&(y=Math.min(y,M))}),y<1/0&&y>=0&&(d=e.substring(0,y+1))}if(f=this.tokenizer.inlineText(d)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),i=!0;const y=t.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=f.raw,y.text+=f.text):t.push(f);continue}if(e){const y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return t}}class Mn{constructor(e){ee(this,"options");ee(this,"parser");this.options=e||Et}space(e){return""}code({text:e,lang:t,escaped:n}){var o;const r=(o=(t||"").match(Ne.notSpaceStart))==null?void 0:o[0],i=e.replace(Ne.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Je(r)+'">'+(n?i:Je(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Je(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let l=0;l<e.items.length;l++){const h=e.items[l];r+=this.listitem(h)}const i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Je(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];n="";for(let l=0;l<o.length;l++)n+=this.tablecell(o[l]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Je(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=ks(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return t&&(o+=' title="'+Je(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n}){const r=ks(e);if(r===null)return Je(n);e=r;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${Je(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Je(e.text)}}class ls{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class We{constructor(e){ee(this,"options");ee(this,"renderer");ee(this,"textRenderer");this.options=e||Et,this.options.renderer=this.options.renderer||new Mn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ls}static parse(e,t){return new We(t).parse(e)}static parseInline(e,t){return new We(t).parseInline(e)}parse(e,t=!0){var r,i;let n="";for(let o=0;o<e.length;o++){const l=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[l.type]){const u=l,f=this.options.extensions.renderers[u.type].call({parser:this},u);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){n+=f||"";continue}}const h=l;switch(h.type){case"space":{n+=this.renderer.space(h);continue}case"hr":{n+=this.renderer.hr(h);continue}case"heading":{n+=this.renderer.heading(h);continue}case"code":{n+=this.renderer.code(h);continue}case"table":{n+=this.renderer.table(h);continue}case"blockquote":{n+=this.renderer.blockquote(h);continue}case"list":{n+=this.renderer.list(h);continue}case"html":{n+=this.renderer.html(h);continue}case"paragraph":{n+=this.renderer.paragraph(h);continue}case"text":{let u=h,f=this.renderer.text(u);for(;o+1<e.length&&e[o+1].type==="text";)u=e[++o],f+=`
`+this.renderer.text(u);t?n+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):n+=f;continue}default:{const u='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,t=this.renderer){var r,i;let n="";for(let o=0;o<e.length;o++){const l=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[l.type]){const u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=u||"";continue}}const h=l;switch(h.type){case"escape":{n+=t.text(h);break}case"html":{n+=t.html(h);break}case"link":{n+=t.link(h);break}case"image":{n+=t.image(h);break}case"strong":{n+=t.strong(h);break}case"em":{n+=t.em(h);break}case"codespan":{n+=t.codespan(h);break}case"br":{n+=t.br(h);break}case"del":{n+=t.del(h);break}case"text":{n+=t.text(h);break}default:{const u='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}}class tn{constructor(e){ee(this,"options");ee(this,"block");this.options=e||Et}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?qe.lex:qe.lexInline}provideParser(){return this.block?We.parse:We.parseInline}}ee(tn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class mi{constructor(...e){ee(this,"defaults",es());ee(this,"options",this.setOptions);ee(this,"parse",this.parseMarkdown(!0));ee(this,"parseInline",this.parseMarkdown(!1));ee(this,"Parser",We);ee(this,"Renderer",Mn);ee(this,"TextRenderer",ls);ee(this,"Lexer",qe);ee(this,"Tokenizer",Cn);ee(this,"Hooks",tn);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(const o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{const l=o;for(const h of l.header)n=n.concat(this.walkTokens(h.tokens,t));for(const h of l.rows)for(const u of h)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const l=o;n=n.concat(this.walkTokens(l.items,t));break}default:{const l=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(h=>{const u=l[h].flat(1/0);n=n.concat(this.walkTokens(u,t))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=t.renderers[i.name];o?t.renderers[i.name]=function(...l){let h=i.renderer.apply(this,l);return h===!1&&(h=o.apply(this,l)),h}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[i.level];o?o.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new Mn(this.defaults);for(const o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,h=n.renderer[l],u=i[l];i[l]=(...f)=>{let d=h.apply(i,f);return d===!1&&(d=u.apply(i,f)),d||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Cn(this.defaults);for(const o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,h=n.tokenizer[l],u=i[l];i[l]=(...f)=>{let d=h.apply(i,f);return d===!1&&(d=u.apply(i,f)),d}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new tn;for(const o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,h=n.hooks[l],u=i[l];tn.passThroughHooks.has(o)?i[l]=f=>{if(this.defaults.async)return Promise.resolve(h.call(i,f)).then(y=>u.call(i,y));const d=h.call(i,f);return u.call(i,d)}:i[l]=(...f)=>{let d=h.apply(i,f);return d===!1&&(d=u.apply(i,f)),d}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(l){let h=[];return h.push(o.call(this,l)),i&&(h=h.concat(i.call(this,l))),h}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return qe.lex(e,t??this.defaults)}parser(e,t){return We.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const i={...r},o={...this.defaults,...i},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const h=o.hooks?o.hooks.provideLexer():e?qe.lex:qe.lexInline,u=o.hooks?o.hooks.provideParser():e?We.parse:We.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(f=>h(f,o)).then(f=>o.hooks?o.hooks.processAllTokens(f):f).then(f=>o.walkTokens?Promise.all(this.walkTokens(f,o.walkTokens)).then(()=>f):f).then(f=>u(f,o)).then(f=>o.hooks?o.hooks.postprocess(f):f).catch(l);try{o.hooks&&(n=o.hooks.preprocess(n));let f=h(n,o);o.hooks&&(f=o.hooks.processAllTokens(f)),o.walkTokens&&this.walkTokens(f,o.walkTokens);let d=u(f,o);return o.hooks&&(d=o.hooks.postprocess(d)),d}catch(f){return l(f)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Je(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}}const yt=new mi;function H(s,e){return yt.parse(s,e)}H.options=H.setOptions=function(s){return yt.setOptions(s),H.defaults=yt.defaults,qs(H.defaults),H};H.getDefaults=es;H.defaults=Et;H.use=function(...s){return yt.use(...s),H.defaults=yt.defaults,qs(H.defaults),H};H.walkTokens=function(s,e){return yt.walkTokens(s,e)};H.parseInline=yt.parseInline;H.Parser=We;H.parser=We.parse;H.Renderer=Mn;H.TextRenderer=ls;H.Lexer=qe;H.lexer=qe.lex;H.Tokenizer=Cn;H.Hooks=tn;H.parse=H;H.options;H.setOptions;H.use;H.walkTokens;H.parseInline;We.parse;qe.lex;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:er,setPrototypeOf:Ts,isFrozen:_i,getPrototypeOf:wi,getOwnPropertyDescriptor:xi}=Object;let{freeze:Le,seal:Ke,create:tr}=Object,{apply:Vn,construct:Qn}=typeof Reflect<"u"&&Reflect;Le||(Le=function(e){return e});Ke||(Ke=function(e){return e});Vn||(Vn=function(e,t,n){return e.apply(t,n)});Qn||(Qn=function(e,t){return new e(...t)});const xn=Ie(Array.prototype.forEach),ki=Ie(Array.prototype.lastIndexOf),As=Ie(Array.prototype.pop),Kt=Ie(Array.prototype.push),yi=Ie(Array.prototype.splice),En=Ie(String.prototype.toLowerCase),Hn=Ie(String.prototype.toString),Ss=Ie(String.prototype.match),Yt=Ie(String.prototype.replace),Ei=Ie(String.prototype.indexOf),Ti=Ie(String.prototype.trim),Xe=Ie(Object.prototype.hasOwnProperty),Me=Ie(RegExp.prototype.test),Zt=Ai(TypeError);function Ie(s){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vn(s,e,n)}}function Ai(s){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qn(s,t)}}function P(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:En;Ts&&Ts(s,null);let n=e.length;for(;n--;){let r=e[n];if(typeof r=="string"){const i=t(r);i!==r&&(_i(e)||(e[n]=i),r=i)}s[r]=!0}return s}function Si(s){for(let e=0;e<s.length;e++)Xe(s,e)||(s[e]=null);return s}function kt(s){const e=tr(null);for(const[t,n]of er(s))Xe(s,t)&&(Array.isArray(n)?e[t]=Si(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=kt(n):e[t]=n);return e}function Xt(s,e){for(;s!==null;){const n=xi(s,e);if(n){if(n.get)return Ie(n.get);if(typeof n.value=="function")return Ie(n.value)}s=wi(s)}function t(){return null}return t}const Rs=Le(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fn=Le(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jn=Le(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ri=Le(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gn=Le(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vi=Le(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vs=Le(["#text"]),Os=Le(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qn=Le(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Cs=Le(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kn=Le(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Oi=Ke(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ci=Ke(/<%[\w\W]*|[\w\W]*%>/gm),Mi=Ke(/\$\{[\w\W]*/gm),Ni=Ke(/^data-[\-\w.\u00B7-\uFFFF]+$/),Li=Ke(/^aria-[\-\w]+$/),nr=Ke(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ii=Ke(/^(?:\w+script|data):/i),$i=Ke(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sr=Ke(/^html$/i),Di=Ke(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ms=Object.freeze({__proto__:null,ARIA_ATTR:Li,ATTR_WHITESPACE:$i,CUSTOM_ELEMENT:Di,DATA_ATTR:Ni,DOCTYPE_NAME:sr,ERB_EXPR:Ci,IS_ALLOWED_URI:nr,IS_SCRIPT_OR_DATA:Ii,MUSTACHE_EXPR:Oi,TMPLIT_EXPR:Mi});const Vt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Pi=function(){return typeof window>"u"?null:window},Bi=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Ns=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rr(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pi();const e=A=>rr(A);if(e.version="3.2.4",e.removed=[],!s||!s.document||s.document.nodeType!==Vt.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const n=t,r=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:h,NodeFilter:u,NamedNodeMap:f=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:d,DOMParser:y,trustedTypes:T}=s,M=h.prototype,x=Xt(M,"cloneNode"),X=Xt(M,"remove"),ne=Xt(M,"nextSibling"),se=Xt(M,"childNodes"),j=Xt(M,"parentNode");if(typeof o=="function"){const A=t.createElement("template");A.content&&A.content.ownerDocument&&(t=A.content.ownerDocument)}let I,V="";const{implementation:xe,createNodeIterator:ke,createDocumentFragment:$,getElementsByTagName:ye}=t,{importNode:pe}=n;let ae=Ns();e.isSupported=typeof er=="function"&&typeof j=="function"&&xe&&xe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pt,ERB_EXPR:rt,TMPLIT_EXPR:Ee,DATA_ATTR:it,ARIA_ATTR:Pt,IS_SCRIPT_OR_DATA:Tt,ATTR_WHITESPACE:et,CUSTOM_ELEMENT:At}=Ms;let{IS_ALLOWED_URI:dt}=Ms,R=null;const Q=P({},[...Rs,...Fn,...jn,...Gn,...vs]);let F=null;const Te=P({},[...Os,...qn,...Cs,...kn]);let G=Object.seal(tr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fe=null,z=null,J=!0,D=!0,q=!1,$e=!0,Ae=!1,Ce=!0,W=!1,ce=!1,Ye=!1,ot=!1,St=!1,Rt=!1,Bt=!0,an=!1;const $n="user-content-";let vt=!0,De=!1,tt={},Pe=null;const gt=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zt=null;const cn=P({},["audio","video","img","source","image","track"]);let Ut=null;const un=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ot="http://www.w3.org/1998/Math/MathML",Ct="http://www.w3.org/2000/svg",je="http://www.w3.org/1999/xhtml";let lt=je,Ht=!1,Ft=null;const jt=P({},[Ot,Ct,je],Hn);let bt=P({},["mi","mo","mn","ms","mtext"]),mt=P({},["annotation-xml"]);const Dn=P({},["title","style","font","a","script"]);let at=null;const ct=["application/xhtml+xml","text/html"],a="text/html";let p=null,m=null;const C=t.createElement("form"),le=function(c){return c instanceof RegExp||c instanceof Function},re=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(m&&m===c)){if((!c||typeof c!="object")&&(c={}),c=kt(c),at=ct.indexOf(c.PARSER_MEDIA_TYPE)===-1?a:c.PARSER_MEDIA_TYPE,p=at==="application/xhtml+xml"?Hn:En,R=Xe(c,"ALLOWED_TAGS")?P({},c.ALLOWED_TAGS,p):Q,F=Xe(c,"ALLOWED_ATTR")?P({},c.ALLOWED_ATTR,p):Te,Ft=Xe(c,"ALLOWED_NAMESPACES")?P({},c.ALLOWED_NAMESPACES,Hn):jt,Ut=Xe(c,"ADD_URI_SAFE_ATTR")?P(kt(un),c.ADD_URI_SAFE_ATTR,p):un,zt=Xe(c,"ADD_DATA_URI_TAGS")?P(kt(cn),c.ADD_DATA_URI_TAGS,p):cn,Pe=Xe(c,"FORBID_CONTENTS")?P({},c.FORBID_CONTENTS,p):gt,Fe=Xe(c,"FORBID_TAGS")?P({},c.FORBID_TAGS,p):{},z=Xe(c,"FORBID_ATTR")?P({},c.FORBID_ATTR,p):{},tt=Xe(c,"USE_PROFILES")?c.USE_PROFILES:!1,J=c.ALLOW_ARIA_ATTR!==!1,D=c.ALLOW_DATA_ATTR!==!1,q=c.ALLOW_UNKNOWN_PROTOCOLS||!1,$e=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ae=c.SAFE_FOR_TEMPLATES||!1,Ce=c.SAFE_FOR_XML!==!1,W=c.WHOLE_DOCUMENT||!1,ot=c.RETURN_DOM||!1,St=c.RETURN_DOM_FRAGMENT||!1,Rt=c.RETURN_TRUSTED_TYPE||!1,Ye=c.FORCE_BODY||!1,Bt=c.SANITIZE_DOM!==!1,an=c.SANITIZE_NAMED_PROPS||!1,vt=c.KEEP_CONTENT!==!1,De=c.IN_PLACE||!1,dt=c.ALLOWED_URI_REGEXP||nr,lt=c.NAMESPACE||je,bt=c.MATHML_TEXT_INTEGRATION_POINTS||bt,mt=c.HTML_INTEGRATION_POINTS||mt,G=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&le(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&le(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ae&&(D=!1),St&&(ot=!0),tt&&(R=P({},vs),F=[],tt.html===!0&&(P(R,Rs),P(F,Os)),tt.svg===!0&&(P(R,Fn),P(F,qn),P(F,kn)),tt.svgFilters===!0&&(P(R,jn),P(F,qn),P(F,kn)),tt.mathMl===!0&&(P(R,Gn),P(F,Cs),P(F,kn))),c.ADD_TAGS&&(R===Q&&(R=kt(R)),P(R,c.ADD_TAGS,p)),c.ADD_ATTR&&(F===Te&&(F=kt(F)),P(F,c.ADD_ATTR,p)),c.ADD_URI_SAFE_ATTR&&P(Ut,c.ADD_URI_SAFE_ATTR,p),c.FORBID_CONTENTS&&(Pe===gt&&(Pe=kt(Pe)),P(Pe,c.FORBID_CONTENTS,p)),vt&&(R["#text"]=!0),W&&P(R,["html","head","body"]),R.table&&(P(R,["tbody"]),delete Fe.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=c.TRUSTED_TYPES_POLICY,V=I.createHTML("")}else I===void 0&&(I=Bi(T,r)),I!==null&&typeof V=="string"&&(V=I.createHTML(""));Le&&Le(c),m=c}},k=P({},[...Fn,...jn,...Ri]),w=P({},[...Gn,...vi]),O=function(c){let g=j(c);(!g||!g.tagName)&&(g={namespaceURI:lt,tagName:"template"});const E=En(c.tagName),U=En(g.tagName);return Ft[c.namespaceURI]?c.namespaceURI===Ct?g.namespaceURI===je?E==="svg":g.namespaceURI===Ot?E==="svg"&&(U==="annotation-xml"||bt[U]):!!k[E]:c.namespaceURI===Ot?g.namespaceURI===je?E==="math":g.namespaceURI===Ct?E==="math"&&mt[U]:!!w[E]:c.namespaceURI===je?g.namespaceURI===Ct&&!mt[U]||g.namespaceURI===Ot&&!bt[U]?!1:!w[E]&&(Dn[E]||!k[E]):!!(at==="application/xhtml+xml"&&Ft[c.namespaceURI]):!1},K=function(c){Kt(e.removed,{element:c});try{j(c).removeChild(c)}catch{X(c)}},ie=function(c,g){try{Kt(e.removed,{attribute:g.getAttributeNode(c),from:g})}catch{Kt(e.removed,{attribute:null,from:g})}if(g.removeAttribute(c),c==="is")if(ot||St)try{K(g)}catch{}else try{g.setAttribute(c,"")}catch{}},ut=function(c){let g=null,E=null;if(Ye)c="<remove></remove>"+c;else{const ue=Ss(c,/^[\r\n\t ]+/);E=ue&&ue[0]}at==="application/xhtml+xml"&&lt===je&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const U=I?I.createHTML(c):c;if(lt===je)try{g=new y().parseFromString(U,at)}catch{}if(!g||!g.documentElement){g=xe.createDocument(lt,"template",null);try{g.documentElement.innerHTML=Ht?V:U}catch{}}const de=g.body||g.documentElement;return c&&E&&de.insertBefore(t.createTextNode(E),de.childNodes[0]||null),lt===je?ye.call(g,W?"html":"body")[0]:W?g.documentElement:de},Mt=function(c){return ke.call(c.ownerDocument||c,c,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},_t=function(c){return c instanceof d&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof f)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},fn=function(c){return typeof l=="function"&&c instanceof l};function Be(A,c,g){xn(A,E=>{E.call(e,c,g,m)})}const hn=function(c){let g=null;if(Be(ae.beforeSanitizeElements,c,null),_t(c))return K(c),!0;const E=p(c.nodeName);if(Be(ae.uponSanitizeElement,c,{tagName:E,allowedTags:R}),c.hasChildNodes()&&!fn(c.firstElementChild)&&Me(/<[/\w]/g,c.innerHTML)&&Me(/<[/\w]/g,c.textContent)||c.nodeType===Vt.progressingInstruction||Ce&&c.nodeType===Vt.comment&&Me(/<[/\w]/g,c.data))return K(c),!0;if(!R[E]||Fe[E]){if(!Fe[E]&&dn(E)&&(G.tagNameCheck instanceof RegExp&&Me(G.tagNameCheck,E)||G.tagNameCheck instanceof Function&&G.tagNameCheck(E)))return!1;if(vt&&!Pe[E]){const U=j(c)||c.parentNode,de=se(c)||c.childNodes;if(de&&U){const ue=de.length;for(let Se=ue-1;Se>=0;--Se){const Ge=x(de[Se],!0);Ge.__removalCount=(c.__removalCount||0)+1,U.insertBefore(Ge,ne(c))}}}return K(c),!0}return c instanceof h&&!O(c)||(E==="noscript"||E==="noembed"||E==="noframes")&&Me(/<\/no(script|embed|frames)/i,c.innerHTML)?(K(c),!0):(Ae&&c.nodeType===Vt.text&&(g=c.textContent,xn([pt,rt,Ee],U=>{g=Yt(g,U," ")}),c.textContent!==g&&(Kt(e.removed,{element:c.cloneNode()}),c.textContent=g)),Be(ae.afterSanitizeElements,c,null),!1)},pn=function(c,g,E){if(Bt&&(g==="id"||g==="name")&&(E in t||E in C))return!1;if(!(D&&!z[g]&&Me(it,g))){if(!(J&&Me(Pt,g))){if(!F[g]||z[g]){if(!(dn(c)&&(G.tagNameCheck instanceof RegExp&&Me(G.tagNameCheck,c)||G.tagNameCheck instanceof Function&&G.tagNameCheck(c))&&(G.attributeNameCheck instanceof RegExp&&Me(G.attributeNameCheck,g)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(g))||g==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Me(G.tagNameCheck,E)||G.tagNameCheck instanceof Function&&G.tagNameCheck(E))))return!1}else if(!Ut[g]){if(!Me(dt,Yt(E,et,""))){if(!((g==="src"||g==="xlink:href"||g==="href")&&c!=="script"&&Ei(E,"data:")===0&&zt[c])){if(!(q&&!Me(Tt,Yt(E,et,"")))){if(E)return!1}}}}}}return!0},dn=function(c){return c!=="annotation-xml"&&Ss(c,At)},Gt=function(c){Be(ae.beforeSanitizeAttributes,c,null);const{attributes:g}=c;if(!g||_t(c))return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let U=g.length;for(;U--;){const de=g[U],{name:ue,namespaceURI:Se,value:Ge}=de,wt=p(ue);let fe=ue==="value"?Ge:Ti(Ge);if(E.attrName=wt,E.attrValue=fe,E.keepAttr=!0,E.forceKeepAttr=void 0,Be(ae.uponSanitizeAttribute,c,E),fe=E.attrValue,an&&(wt==="id"||wt==="name")&&(ie(ue,c),fe=$n+fe),Ce&&Me(/((--!?|])>)|<\/(style|title)/i,fe)){ie(ue,c);continue}if(E.forceKeepAttr||(ie(ue,c),!E.keepAttr))continue;if(!$e&&Me(/\/>/i,fe)){ie(ue,c);continue}Ae&&xn([pt,rt,Ee],b=>{fe=Yt(fe,b," ")});const gn=p(c.nodeName);if(pn(gn,wt,fe)){if(I&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Se)switch(T.getAttributeType(gn,wt)){case"TrustedHTML":{fe=I.createHTML(fe);break}case"TrustedScriptURL":{fe=I.createScriptURL(fe);break}}try{Se?c.setAttributeNS(Se,ue,fe):c.setAttribute(ue,fe),_t(c)?K(c):As(e.removed)}catch{}}}Be(ae.afterSanitizeAttributes,c,null)},Nt=function A(c){let g=null;const E=Mt(c);for(Be(ae.beforeSanitizeShadowDOM,c,null);g=E.nextNode();)Be(ae.uponSanitizeShadowNode,g,null),hn(g),Gt(g),g.content instanceof i&&A(g.content);Be(ae.afterSanitizeShadowDOM,c,null)};return e.sanitize=function(A){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=null,E=null,U=null,de=null;if(Ht=!A,Ht&&(A="<!-->"),typeof A!="string"&&!fn(A))if(typeof A.toString=="function"){if(A=A.toString(),typeof A!="string")throw Zt("dirty is not a string, aborting")}else throw Zt("toString is not a function");if(!e.isSupported)return A;if(ce||re(c),e.removed=[],typeof A=="string"&&(De=!1),De){if(A.nodeName){const Ge=p(A.nodeName);if(!R[Ge]||Fe[Ge])throw Zt("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof l)g=ut("<!---->"),E=g.ownerDocument.importNode(A,!0),E.nodeType===Vt.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?g=E:g.appendChild(E);else{if(!ot&&!Ae&&!W&&A.indexOf("<")===-1)return I&&Rt?I.createHTML(A):A;if(g=ut(A),!g)return ot?null:Rt?V:""}g&&Ye&&K(g.firstChild);const ue=Mt(De?A:g);for(;U=ue.nextNode();)hn(U),Gt(U),U.content instanceof i&&Nt(U.content);if(De)return A;if(ot){if(St)for(de=$.call(g.ownerDocument);g.firstChild;)de.appendChild(g.firstChild);else de=g;return(F.shadowroot||F.shadowrootmode)&&(de=pe.call(n,de,!0)),de}let Se=W?g.outerHTML:g.innerHTML;return W&&R["!doctype"]&&g.ownerDocument&&g.ownerDocument.doctype&&g.ownerDocument.doctype.name&&Me(sr,g.ownerDocument.doctype.name)&&(Se="<!DOCTYPE "+g.ownerDocument.doctype.name+`>
`+Se),Ae&&xn([pt,rt,Ee],Ge=>{Se=Yt(Se,Ge," ")}),I&&Rt?I.createHTML(Se):Se},e.setConfig=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};re(A),ce=!0},e.clearConfig=function(){m=null,ce=!1},e.isValidAttribute=function(A,c,g){m||re({});const E=p(A),U=p(c);return pn(E,U,g)},e.addHook=function(A,c){typeof c=="function"&&Kt(ae[A],c)},e.removeHook=function(A,c){if(c!==void 0){const g=ki(ae[A],c);return g===-1?void 0:yi(ae[A],g,1)[0]}return As(ae[A])},e.removeHooks=function(A){ae[A]=[]},e.removeAllHooks=function(){ae=Ns()},e}var Wn=rr();function zi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kn,Ls;function Ui(){if(Ls)return Kn;Ls=1;function s(a){return a instanceof Map?a.clear=a.delete=a.set=function(){throw new Error("map is read-only")}:a instanceof Set&&(a.add=a.clear=a.delete=function(){throw new Error("set is read-only")}),Object.freeze(a),Object.getOwnPropertyNames(a).forEach(p=>{const m=a[p],C=typeof m;(C==="object"||C==="function")&&!Object.isFrozen(m)&&s(m)}),a}class e{constructor(p){p.data===void 0&&(p.data={}),this.data=p.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(a,...p){const m=Object.create(null);for(const C in a)m[C]=a[C];return p.forEach(function(C){for(const le in C)m[le]=C[le]}),m}const r="</span>",i=a=>!!a.scope,o=(a,{prefix:p})=>{if(a.startsWith("language:"))return a.replace("language:","language-");if(a.includes(".")){const m=a.split(".");return[`${p}${m.shift()}`,...m.map((C,le)=>`${C}${"_".repeat(le+1)}`)].join(" ")}return`${p}${a}`};class l{constructor(p,m){this.buffer="",this.classPrefix=m.classPrefix,p.walk(this)}addText(p){this.buffer+=t(p)}openNode(p){if(!i(p))return;const m=o(p.scope,{prefix:this.classPrefix});this.span(m)}closeNode(p){i(p)&&(this.buffer+=r)}value(){return this.buffer}span(p){this.buffer+=`<span class="${p}">`}}const h=(a={})=>{const p={children:[]};return Object.assign(p,a),p};class u{constructor(){this.rootNode=h(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(p){this.top.children.push(p)}openNode(p){const m=h({scope:p});this.add(m),this.stack.push(m)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(p){return this.constructor._walk(p,this.rootNode)}static _walk(p,m){return typeof m=="string"?p.addText(m):m.children&&(p.openNode(m),m.children.forEach(C=>this._walk(p,C)),p.closeNode(m)),p}static _collapse(p){typeof p!="string"&&p.children&&(p.children.every(m=>typeof m=="string")?p.children=[p.children.join("")]:p.children.forEach(m=>{u._collapse(m)}))}}class f extends u{constructor(p){super(),this.options=p}addText(p){p!==""&&this.add(p)}startScope(p){this.openNode(p)}endScope(){this.closeNode()}__addSublanguage(p,m){const C=p.root;m&&(C.scope=`language:${m}`),this.add(C)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(a){return a?typeof a=="string"?a:a.source:null}function y(a){return x("(?=",a,")")}function T(a){return x("(?:",a,")*")}function M(a){return x("(?:",a,")?")}function x(...a){return a.map(m=>d(m)).join("")}function X(a){const p=a[a.length-1];return typeof p=="object"&&p.constructor===Object?(a.splice(a.length-1,1),p):{}}function ne(...a){return"("+(X(a).capture?"":"?:")+a.map(C=>d(C)).join("|")+")"}function se(a){return new RegExp(a.toString()+"|").exec("").length-1}function j(a,p){const m=a&&a.exec(p);return m&&m.index===0}const I=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function V(a,{joinWith:p}){let m=0;return a.map(C=>{m+=1;const le=m;let re=d(C),k="";for(;re.length>0;){const w=I.exec(re);if(!w){k+=re;break}k+=re.substring(0,w.index),re=re.substring(w.index+w[0].length),w[0][0]==="\\"&&w[1]?k+="\\"+String(Number(w[1])+le):(k+=w[0],w[0]==="("&&m++)}return k}).map(C=>`(${C})`).join(p)}const xe=/\b\B/,ke="[a-zA-Z]\\w*",$="[a-zA-Z_]\\w*",ye="\\b\\d+(\\.\\d+)?",pe="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ae="\\b(0b[01]+)",pt="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",rt=(a={})=>{const p=/^#![ ]*\//;return a.binary&&(a.begin=x(p,/.*\b/,a.binary,/\b.*/)),n({scope:"meta",begin:p,end:/$/,relevance:0,"on:begin":(m,C)=>{m.index!==0&&C.ignoreMatch()}},a)},Ee={begin:"\\\\[\\s\\S]",relevance:0},it={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ee]},Pt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ee]},Tt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},et=function(a,p,m={}){const C=n({scope:"comment",begin:a,end:p,contains:[]},m);C.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const le=ne("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return C.contains.push({begin:x(/[ ]+/,"(",le,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),C},At=et("//","$"),dt=et("/\\*","\\*/"),R=et("#","$"),Q={scope:"number",begin:ye,relevance:0},F={scope:"number",begin:pe,relevance:0},Te={scope:"number",begin:ae,relevance:0},G={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ee,{begin:/\[/,end:/\]/,relevance:0,contains:[Ee]}]},Fe={scope:"title",begin:ke,relevance:0},z={scope:"title",begin:$,relevance:0},J={begin:"\\.\\s*"+$,relevance:0};var q=Object.freeze({__proto__:null,APOS_STRING_MODE:it,BACKSLASH_ESCAPE:Ee,BINARY_NUMBER_MODE:Te,BINARY_NUMBER_RE:ae,COMMENT:et,C_BLOCK_COMMENT_MODE:dt,C_LINE_COMMENT_MODE:At,C_NUMBER_MODE:F,C_NUMBER_RE:pe,END_SAME_AS_BEGIN:function(a){return Object.assign(a,{"on:begin":(p,m)=>{m.data._beginMatch=p[1]},"on:end":(p,m)=>{m.data._beginMatch!==p[1]&&m.ignoreMatch()}})},HASH_COMMENT_MODE:R,IDENT_RE:ke,MATCH_NOTHING_RE:xe,METHOD_GUARD:J,NUMBER_MODE:Q,NUMBER_RE:ye,PHRASAL_WORDS_MODE:Tt,QUOTE_STRING_MODE:Pt,REGEXP_MODE:G,RE_STARTERS_RE:pt,SHEBANG:rt,TITLE_MODE:Fe,UNDERSCORE_IDENT_RE:$,UNDERSCORE_TITLE_MODE:z});function $e(a,p){a.input[a.index-1]==="."&&p.ignoreMatch()}function Ae(a,p){a.className!==void 0&&(a.scope=a.className,delete a.className)}function Ce(a,p){p&&a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",a.__beforeBegin=$e,a.keywords=a.keywords||a.beginKeywords,delete a.beginKeywords,a.relevance===void 0&&(a.relevance=0))}function W(a,p){Array.isArray(a.illegal)&&(a.illegal=ne(...a.illegal))}function ce(a,p){if(a.match){if(a.begin||a.end)throw new Error("begin & end are not supported with match");a.begin=a.match,delete a.match}}function Ye(a,p){a.relevance===void 0&&(a.relevance=1)}const ot=(a,p)=>{if(!a.beforeMatch)return;if(a.starts)throw new Error("beforeMatch cannot be used with starts");const m=Object.assign({},a);Object.keys(a).forEach(C=>{delete a[C]}),a.keywords=m.keywords,a.begin=x(m.beforeMatch,y(m.begin)),a.starts={relevance:0,contains:[Object.assign(m,{endsParent:!0})]},a.relevance=0,delete m.beforeMatch},St=["of","and","for","in","not","or","if","then","parent","list","value"],Rt="keyword";function Bt(a,p,m=Rt){const C=Object.create(null);return typeof a=="string"?le(m,a.split(" ")):Array.isArray(a)?le(m,a):Object.keys(a).forEach(function(re){Object.assign(C,Bt(a[re],p,re))}),C;function le(re,k){p&&(k=k.map(w=>w.toLowerCase())),k.forEach(function(w){const O=w.split("|");C[O[0]]=[re,an(O[0],O[1])]})}}function an(a,p){return p?Number(p):$n(a)?0:1}function $n(a){return St.includes(a.toLowerCase())}const vt={},De=a=>{console.error(a)},tt=(a,...p)=>{console.log(`WARN: ${a}`,...p)},Pe=(a,p)=>{vt[`${a}/${p}`]||(console.log(`Deprecated as of ${a}. ${p}`),vt[`${a}/${p}`]=!0)},gt=new Error;function zt(a,p,{key:m}){let C=0;const le=a[m],re={},k={};for(let w=1;w<=p.length;w++)k[w+C]=le[w],re[w+C]=!0,C+=se(p[w-1]);a[m]=k,a[m]._emit=re,a[m]._multi=!0}function cn(a){if(Array.isArray(a.begin)){if(a.skip||a.excludeBegin||a.returnBegin)throw De("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),gt;if(typeof a.beginScope!="object"||a.beginScope===null)throw De("beginScope must be object"),gt;zt(a,a.begin,{key:"beginScope"}),a.begin=V(a.begin,{joinWith:""})}}function Ut(a){if(Array.isArray(a.end)){if(a.skip||a.excludeEnd||a.returnEnd)throw De("skip, excludeEnd, returnEnd not compatible with endScope: {}"),gt;if(typeof a.endScope!="object"||a.endScope===null)throw De("endScope must be object"),gt;zt(a,a.end,{key:"endScope"}),a.end=V(a.end,{joinWith:""})}}function un(a){a.scope&&typeof a.scope=="object"&&a.scope!==null&&(a.beginScope=a.scope,delete a.scope)}function Ot(a){un(a),typeof a.beginScope=="string"&&(a.beginScope={_wrap:a.beginScope}),typeof a.endScope=="string"&&(a.endScope={_wrap:a.endScope}),cn(a),Ut(a)}function Ct(a){function p(k,w){return new RegExp(d(k),"m"+(a.case_insensitive?"i":"")+(a.unicodeRegex?"u":"")+(w?"g":""))}class m{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(w,O){O.position=this.position++,this.matchIndexes[this.matchAt]=O,this.regexes.push([O,w]),this.matchAt+=se(w)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const w=this.regexes.map(O=>O[1]);this.matcherRe=p(V(w,{joinWith:"|"}),!0),this.lastIndex=0}exec(w){this.matcherRe.lastIndex=this.lastIndex;const O=this.matcherRe.exec(w);if(!O)return null;const K=O.findIndex((ut,Mt)=>Mt>0&&ut!==void 0),ie=this.matchIndexes[K];return O.splice(0,K),Object.assign(O,ie)}}class C{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(w){if(this.multiRegexes[w])return this.multiRegexes[w];const O=new m;return this.rules.slice(w).forEach(([K,ie])=>O.addRule(K,ie)),O.compile(),this.multiRegexes[w]=O,O}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(w,O){this.rules.push([w,O]),O.type==="begin"&&this.count++}exec(w){const O=this.getMatcher(this.regexIndex);O.lastIndex=this.lastIndex;let K=O.exec(w);if(this.resumingScanAtSamePosition()&&!(K&&K.index===this.lastIndex)){const ie=this.getMatcher(0);ie.lastIndex=this.lastIndex+1,K=ie.exec(w)}return K&&(this.regexIndex+=K.position+1,this.regexIndex===this.count&&this.considerAll()),K}}function le(k){const w=new C;return k.contains.forEach(O=>w.addRule(O.begin,{rule:O,type:"begin"})),k.terminatorEnd&&w.addRule(k.terminatorEnd,{type:"end"}),k.illegal&&w.addRule(k.illegal,{type:"illegal"}),w}function re(k,w){const O=k;if(k.isCompiled)return O;[Ae,ce,Ot,ot].forEach(ie=>ie(k,w)),a.compilerExtensions.forEach(ie=>ie(k,w)),k.__beforeBegin=null,[Ce,W,Ye].forEach(ie=>ie(k,w)),k.isCompiled=!0;let K=null;return typeof k.keywords=="object"&&k.keywords.$pattern&&(k.keywords=Object.assign({},k.keywords),K=k.keywords.$pattern,delete k.keywords.$pattern),K=K||/\w+/,k.keywords&&(k.keywords=Bt(k.keywords,a.case_insensitive)),O.keywordPatternRe=p(K,!0),w&&(k.begin||(k.begin=/\B|\b/),O.beginRe=p(O.begin),!k.end&&!k.endsWithParent&&(k.end=/\B|\b/),k.end&&(O.endRe=p(O.end)),O.terminatorEnd=d(O.end)||"",k.endsWithParent&&w.terminatorEnd&&(O.terminatorEnd+=(k.end?"|":"")+w.terminatorEnd)),k.illegal&&(O.illegalRe=p(k.illegal)),k.contains||(k.contains=[]),k.contains=[].concat(...k.contains.map(function(ie){return lt(ie==="self"?k:ie)})),k.contains.forEach(function(ie){re(ie,O)}),k.starts&&re(k.starts,w),O.matcher=le(O),O}if(a.compilerExtensions||(a.compilerExtensions=[]),a.contains&&a.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return a.classNameAliases=n(a.classNameAliases||{}),re(a)}function je(a){return a?a.endsWithParent||je(a.starts):!1}function lt(a){return a.variants&&!a.cachedVariants&&(a.cachedVariants=a.variants.map(function(p){return n(a,{variants:null},p)})),a.cachedVariants?a.cachedVariants:je(a)?n(a,{starts:a.starts?n(a.starts):null}):Object.isFrozen(a)?n(a):a}var Ht="11.10.0";class Ft extends Error{constructor(p,m){super(p),this.name="HTMLInjectionError",this.html=m}}const jt=t,bt=n,mt=Symbol("nomatch"),Dn=7,at=function(a){const p=Object.create(null),m=Object.create(null),C=[];let le=!0;const re="Could not find the language '{}', did you forget to load/include a language module?",k={disableAutodetect:!0,name:"Plain text",contains:[]};let w={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:f};function O(b){return w.noHighlightRe.test(b)}function K(b){let v=b.className+" ";v+=b.parentNode?b.parentNode.className:"";const B=w.languageDetectRe.exec(v);if(B){const te=U(B[1]);return te||(tt(re.replace("{}",B[1])),tt("Falling back to no-highlight mode for this block.",b)),te?B[1]:"no-highlight"}return v.split(/\s+/).find(te=>O(te)||U(te))}function ie(b,v,B){let te="",ge="";typeof v=="object"?(te=b,B=v.ignoreIllegals,ge=v.language):(Pe("10.7.0","highlight(lang, code, ...args) has been deprecated."),Pe("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ge=b,te=v),B===void 0&&(B=!0);const Ze={code:te,language:ge};fe("before:highlight",Ze);const ft=Ze.result?Ze.result:ut(Ze.language,Ze.code,B);return ft.code=Ze.code,fe("after:highlight",ft),ft}function ut(b,v,B,te){const ge=Object.create(null);function Ze(_,S){return _.keywords[S]}function ft(){if(!N.keywords){we.addText(oe);return}let _=0;N.keywordPatternRe.lastIndex=0;let S=N.keywordPatternRe.exec(oe),L="";for(;S;){L+=oe.substring(_,S.index);const Y=Qe.case_insensitive?S[0].toLowerCase():S[0],Re=Ze(N,Y);if(Re){const[nt,ur]=Re;if(we.addText(L),L="",ge[Y]=(ge[Y]||0)+1,ge[Y]<=Dn&&(_n+=ur),nt.startsWith("_"))L+=S[0];else{const fr=Qe.classNameAliases[nt]||nt;Ve(S[0],fr)}}else L+=S[0];_=N.keywordPatternRe.lastIndex,S=N.keywordPatternRe.exec(oe)}L+=oe.substring(_),we.addText(L)}function bn(){if(oe==="")return;let _=null;if(typeof N.subLanguage=="string"){if(!p[N.subLanguage]){we.addText(oe);return}_=ut(N.subLanguage,oe,!0,hs[N.subLanguage]),hs[N.subLanguage]=_._top}else _=_t(oe,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(_n+=_.relevance),we.__addSublanguage(_._emitter,_.language)}function ze(){N.subLanguage!=null?bn():ft(),oe=""}function Ve(_,S){_!==""&&(we.startScope(S),we.addText(_),we.endScope())}function as(_,S){let L=1;const Y=S.length-1;for(;L<=Y;){if(!_._emit[L]){L++;continue}const Re=Qe.classNameAliases[_[L]]||_[L],nt=S[L];Re?Ve(nt,Re):(oe=nt,ft(),oe=""),L++}}function cs(_,S){return _.scope&&typeof _.scope=="string"&&we.openNode(Qe.classNameAliases[_.scope]||_.scope),_.beginScope&&(_.beginScope._wrap?(Ve(oe,Qe.classNameAliases[_.beginScope._wrap]||_.beginScope._wrap),oe=""):_.beginScope._multi&&(as(_.beginScope,S),oe="")),N=Object.create(_,{parent:{value:N}}),N}function us(_,S,L){let Y=j(_.endRe,L);if(Y){if(_["on:end"]){const Re=new e(_);_["on:end"](S,Re),Re.isMatchIgnored&&(Y=!1)}if(Y){for(;_.endsParent&&_.parent;)_=_.parent;return _}}if(_.endsWithParent)return us(_.parent,S,L)}function ir(_){return N.matcher.regexIndex===0?(oe+=_[0],1):(zn=!0,0)}function or(_){const S=_[0],L=_.rule,Y=new e(L),Re=[L.__beforeBegin,L["on:begin"]];for(const nt of Re)if(nt&&(nt(_,Y),Y.isMatchIgnored))return ir(S);return L.skip?oe+=S:(L.excludeBegin&&(oe+=S),ze(),!L.returnBegin&&!L.excludeBegin&&(oe=S)),cs(L,_),L.returnBegin?0:S.length}function lr(_){const S=_[0],L=v.substring(_.index),Y=us(N,_,L);if(!Y)return mt;const Re=N;N.endScope&&N.endScope._wrap?(ze(),Ve(S,N.endScope._wrap)):N.endScope&&N.endScope._multi?(ze(),as(N.endScope,_)):Re.skip?oe+=S:(Re.returnEnd||Re.excludeEnd||(oe+=S),ze(),Re.excludeEnd&&(oe=S));do N.scope&&we.closeNode(),!N.skip&&!N.subLanguage&&(_n+=N.relevance),N=N.parent;while(N!==Y.parent);return Y.starts&&cs(Y.starts,_),Re.returnEnd?0:S.length}function ar(){const _=[];for(let S=N;S!==Qe;S=S.parent)S.scope&&_.unshift(S.scope);_.forEach(S=>we.openNode(S))}let mn={};function fs(_,S){const L=S&&S[0];if(oe+=_,L==null)return ze(),0;if(mn.type==="begin"&&S.type==="end"&&mn.index===S.index&&L===""){if(oe+=v.slice(S.index,S.index+1),!le){const Y=new Error(`0 width match regex (${b})`);throw Y.languageName=b,Y.badRule=mn.rule,Y}return 1}if(mn=S,S.type==="begin")return or(S);if(S.type==="illegal"&&!B){const Y=new Error('Illegal lexeme "'+L+'" for mode "'+(N.scope||"<unnamed>")+'"');throw Y.mode=N,Y}else if(S.type==="end"){const Y=lr(S);if(Y!==mt)return Y}if(S.type==="illegal"&&L==="")return 1;if(Bn>1e5&&Bn>S.index*3)throw new Error("potential infinite loop, way more iterations than matches");return oe+=L,L.length}const Qe=U(b);if(!Qe)throw De(re.replace("{}",b)),new Error('Unknown language: "'+b+'"');const cr=Ct(Qe);let Pn="",N=te||cr;const hs={},we=new w.__emitter(w);ar();let oe="",_n=0,xt=0,Bn=0,zn=!1;try{if(Qe.__emitTokens)Qe.__emitTokens(v,we);else{for(N.matcher.considerAll();;){Bn++,zn?zn=!1:N.matcher.considerAll(),N.matcher.lastIndex=xt;const _=N.matcher.exec(v);if(!_)break;const S=v.substring(xt,_.index),L=fs(S,_);xt=_.index+L}fs(v.substring(xt))}return we.finalize(),Pn=we.toHTML(),{language:b,value:Pn,relevance:_n,illegal:!1,_emitter:we,_top:N}}catch(_){if(_.message&&_.message.includes("Illegal"))return{language:b,value:jt(v),illegal:!0,relevance:0,_illegalBy:{message:_.message,index:xt,context:v.slice(xt-100,xt+100),mode:_.mode,resultSoFar:Pn},_emitter:we};if(le)return{language:b,value:jt(v),illegal:!1,relevance:0,errorRaised:_,_emitter:we,_top:N};throw _}}function Mt(b){const v={value:jt(b),illegal:!1,relevance:0,_top:k,_emitter:new w.__emitter(w)};return v._emitter.addText(b),v}function _t(b,v){v=v||w.languages||Object.keys(p);const B=Mt(b),te=v.filter(U).filter(ue).map(ze=>ut(ze,b,!1));te.unshift(B);const ge=te.sort((ze,Ve)=>{if(ze.relevance!==Ve.relevance)return Ve.relevance-ze.relevance;if(ze.language&&Ve.language){if(U(ze.language).supersetOf===Ve.language)return 1;if(U(Ve.language).supersetOf===ze.language)return-1}return 0}),[Ze,ft]=ge,bn=Ze;return bn.secondBest=ft,bn}function fn(b,v,B){const te=v&&m[v]||B;b.classList.add("hljs"),b.classList.add(`language-${te}`)}function Be(b){let v=null;const B=K(b);if(O(B))return;if(fe("before:highlightElement",{el:b,language:B}),b.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",b);return}if(b.children.length>0&&(w.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(b)),w.throwUnescapedHTML))throw new Ft("One of your code blocks includes unescaped HTML.",b.innerHTML);v=b;const te=v.textContent,ge=B?ie(te,{language:B,ignoreIllegals:!0}):_t(te);b.innerHTML=ge.value,b.dataset.highlighted="yes",fn(b,B,ge.language),b.result={language:ge.language,re:ge.relevance,relevance:ge.relevance},ge.secondBest&&(b.secondBest={language:ge.secondBest.language,relevance:ge.secondBest.relevance}),fe("after:highlightElement",{el:b,result:ge,text:te})}function hn(b){w=bt(w,b)}const pn=()=>{Nt(),Pe("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function dn(){Nt(),Pe("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Gt=!1;function Nt(){if(document.readyState==="loading"){Gt=!0;return}document.querySelectorAll(w.cssSelector).forEach(Be)}function A(){Gt&&Nt()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",A,!1);function c(b,v){let B=null;try{B=v(a)}catch(te){if(De("Language definition for '{}' could not be registered.".replace("{}",b)),le)De(te);else throw te;B=k}B.name||(B.name=b),p[b]=B,B.rawDefinition=v.bind(null,a),B.aliases&&de(B.aliases,{languageName:b})}function g(b){delete p[b];for(const v of Object.keys(m))m[v]===b&&delete m[v]}function E(){return Object.keys(p)}function U(b){return b=(b||"").toLowerCase(),p[b]||p[m[b]]}function de(b,{languageName:v}){typeof b=="string"&&(b=[b]),b.forEach(B=>{m[B.toLowerCase()]=v})}function ue(b){const v=U(b);return v&&!v.disableAutodetect}function Se(b){b["before:highlightBlock"]&&!b["before:highlightElement"]&&(b["before:highlightElement"]=v=>{b["before:highlightBlock"](Object.assign({block:v.el},v))}),b["after:highlightBlock"]&&!b["after:highlightElement"]&&(b["after:highlightElement"]=v=>{b["after:highlightBlock"](Object.assign({block:v.el},v))})}function Ge(b){Se(b),C.push(b)}function wt(b){const v=C.indexOf(b);v!==-1&&C.splice(v,1)}function fe(b,v){const B=b;C.forEach(function(te){te[B]&&te[B](v)})}function gn(b){return Pe("10.7.0","highlightBlock will be removed entirely in v12.0"),Pe("10.7.0","Please use highlightElement now."),Be(b)}Object.assign(a,{highlight:ie,highlightAuto:_t,highlightAll:Nt,highlightElement:Be,highlightBlock:gn,configure:hn,initHighlighting:pn,initHighlightingOnLoad:dn,registerLanguage:c,unregisterLanguage:g,listLanguages:E,getLanguage:U,registerAliases:de,autoDetection:ue,inherit:bt,addPlugin:Ge,removePlugin:wt}),a.debugMode=function(){le=!1},a.safeMode=function(){le=!0},a.versionString=Ht,a.regex={concat:x,lookahead:y,either:ne,optional:M,anyNumberOfTimes:T};for(const b in q)typeof q[b]=="object"&&s(q[b]);return Object.assign(a,q),a},ct=at({});return ct.newInstance=()=>at({}),Kn=ct,ct.HighlightJS=ct,ct.default=ct,Kn}var Hi=Ui();const Yn=zi(Hi),Fi={label:"Run or edit the query",title:"Open the SPARQL query in an editor in a new tab"};function ji(s,e=""){return`https://sib-swiss.github.io/sparql-editor/?${e?`endpoint=${e}&`:""}query=${encodeURIComponent(s)}`}const Gi=`chat-with-context {
  button:hover {
    filter: brightness(90%);
  }
}
.iconBtn {
  filter: invert(44%) sepia(22%) saturate(496%) hue-rotate(176deg) brightness(93%) contrast(79%);
}`;function qi(s){var e={keyword:"base|10 prefix|10 @base|10 @prefix|10",literal:"true|0 false|0",built_in:"a|0"},t={className:"literal",relevance:1,begin:/</,end:/>/,illegal:/[^\x00-\x20<>"{}|^`]/},n="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F",r=n+"_",i="-"+r+"0-9·̀-ͯ‿-⁀",o="_:["+r+"0-9](["+i+".]*["+i+"])?",l="["+n+"](["+i+".]*["+i+"])?",h="%[0-9A-Fa-f][0-9A-Fa-f]",u="\\\\[_~.!$&'()*+,;=/?#@%-]",f=h+"|"+u,d="("+l+")?:",y="(["+r+":0-9]|"+f+")(["+i+".:]|"+f+")*(["+i+":]|"+f+")?",T=d+y,M=d+"("+y+")?",x={begin:M,relevance:0,className:"symbol"},X={begin:o,relevance:10,className:"template-variable"},ne={begin:/@[a-zA-Z]+([a-zA-Z0-9-]+)*/,className:"type",relevance:5},se={begin:"\\^\\^"+T,className:"type",relevance:10},j={begin:/'''/,end:/'''/,className:"string",relevance:0},I={begin:/"""/,end:/"""/,className:"string",relevance:0},V=JSON.parse(JSON.stringify(s.APOS_STRING_MODE));V.relevance=0;var xe=JSON.parse(JSON.stringify(s.QUOTE_STRING_MODE));xe.relevance=0;var ke=JSON.parse(JSON.stringify(s.C_NUMBER_MODE));return ke.relevance=0,{case_insensitive:!0,keywords:e,aliases:["turtle","ttl","n3","ntriples","shex","trig"],contains:[ne,se,t,X,x,j,I,V,xe,ke,s.HASH_COMMENT_MODE],exports:{LANGTAG:ne,DATATYPE:se,IRI_LITERAL:t,BLANK_NODE:X,PNAME:x,TRIPLE_APOS_STRING:j,TRIPLE_QUOTE_STRING:I,APOS_STRING_LITERAL:V,QUOTE_STRING_LITERAL:xe,NUMBER:ke,KEYWORDS:e}}}function Wi(s){var e=s.getLanguage("ttl").exports,t={keyword:"base|10 prefix|10 @base|10 @prefix|10 add all as|0 ask bind by|0 clear construct|10 copymove create data default define delete describe distinct drop exists filter from|0 graph|10 group having in|0 insert limit load minus named|10 not offset optional order reduced select|0 service silent to union using values where with|0",function:"abs asc avg bound ceil coalesce concat containsstrbefore count dayhours desc encode_for_uri floor group_concat if|0 iri isblank isiri isliteral isnumeric isuri langdatatype langmatches lcase max md5 min|0 minutes month now rand regex replace round sameterm sample seconds separator sha1 sha256 sha384 sha512 str strafter strdt strends strlang strlen strstarts struuid substr sum then timezone tz ucase uribnode uuid year",literal:"true|0 false|0",built_in:"a|0"},n={className:"variable",begin:"[?$]"+s.IDENT_RE,relevance:0},r={begin:/"""\s*\{/,end:/"""/,subLanguage:"json",excludeBegin:!0,excludeEnd:!0,relevance:0},i={begin:/'''\s*\{/,end:/'''/,subLanguage:"json",excludeBegin:!0,excludeEnd:!0,relevance:0};return{case_insensitive:!0,keywords:t,aliases:["sparql","rql","rq","ru"],contains:[e.LANGTAG,e.DATATYPE,e.IRI_LITERAL,e.BLANK_NODE,e.PNAME,n,r,i,e.TRIPLE_QUOTE_STRING,e.TRIPLE_APOS_STRING,e.QUOTE_STRING_LITERAL,e.APOS_STRING_LITERAL,e.NUMBER,s.HASH_COMMENT_MODE]}}const Ki="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-arrow-up-icon%20lucide-arrow-up'%3e%3cpath%20d='m5%2012%207-7%207%207'/%3e%3cpath%20d='M12%2019V5'/%3e%3c/svg%3e",Is="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-x'%3e%3cline%20x1='18'%20y1='6'%20x2='6'%20y2='18'%3e%3c/line%3e%3cline%20x1='6'%20y1='6'%20x2='18'%20y2='18'%3e%3c/line%3e%3c/svg%3e",Yi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-edit'%3e%3cpath%20d='M11%204H4a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14a2%202%200%200%200%202-2v-7'%3e%3c/path%3e%3cpath%20d='M18.5%202.5a2.121%202.121%200%200%201%203%203L12%2015l-4%201%201-4%209.5-9.5z'%3e%3c/path%3e%3c/svg%3e",Zi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-square'%3e%3crect%20x='3'%20y='3'%20width='18'%20height='18'%20rx='2'%20ry='2'%3e%3c/rect%3e%3c/svg%3e",Xi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-thumbs-down'%3e%3cpath%20d='M10%2015v4a3%203%200%200%200%203%203l4-9V2H5.72a2%202%200%200%200-2%201.7l-1.38%209a2%202%200%200%200%202%202.3zm7-13h2.67A2.31%202.31%200%200%201%2022%204v7a2.31%202.31%200%200%201-2.33%202H17'%3e%3c/path%3e%3c/svg%3e",Vi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-thumbs-up'%3e%3cpath%20d='M14%209V5a3%203%200%200%200-3-3l-4%209v11h11.28a2%202%200%200%200%202-1.7l1.38-9a2%202%200%200%200-2-2.3zM7%2022H4a2%202%200%200%201-2-2v-7a2%202%200%200%201%202-2h3'%3e%3c/path%3e%3c/svg%3e";class Qi{constructor({apiUrl:e="",apiKey:t="",model:n=""}){this.abortRequest=()=>{this.abortController.abort(),this.abortController=new AbortController},this.lastMsg=()=>this.messages()[this.messages().length-1],this.scrollToInput=()=>{},this.appendMessage=(o,l="assistant")=>{const[h,u]=He(o),[f,d]=He([]),[y,T]=He([]),M={content:h,setContent:u,steps:f,setSteps:d,role:l,links:y,setLinks:T};this.setMessages(x=>[...x,M])},this.appendContentToLastMsg=(o,l=!1)=>{this.lastMsg().setContent(h=>h+(l?`

`:"")+o),this.onMessageUpdate()},this.appendStepToLastMsg=(o,l,h="",u=[])=>{this.lastMsg().setSteps(f=>[...f,{node_id:o,label:l,details:h,substeps:u}]),this.scrollToInput(),this.onMessageUpdate()},this.apiUrl=e,this.apiKey=t,this.model=n;const[r,i]=He([]);this.messages=r,this.setMessages=i,this.abortController=new AbortController,this.onMessageUpdate=()=>{}}}async function Ji(s,e){s.appendMessage(e,"user"),await to(s)}async function eo(s,e){if(e.event==="error")throw new Error(`An error occurred. Please try again. ${e.data.error}: ${e.data.message}`);if(e.event==="updates")for(const t of Object.keys(e.data)){const n=e.data[t];if(n){if(n.steps)for(const r of n.steps)r.type==="recall"?s.appendMessage("","assistant"):r.fixed_message&&s.lastMsg().setContent(r.fixed_message),s.appendStepToLastMsg(t,r.label,r.details,r.substeps);n.structured_output&&n.structured_output.sparql_query&&s.lastMsg().setLinks([{url:ji(n.structured_output.sparql_query,n.structured_output.sparql_endpoint_url),...Fi}])}}if(e.event==="messages"){const[t,n]=e.data;if(n.structured_output_format)return;if(t.content&&t.type==="tool"){const r=t.name?t.name.replace(/_/g," ").replace(/^\w/,o=>o.toUpperCase()):"Tool",i=t.name.includes("resources")?"📚":t.name.includes("execute")?"📡":"🔧";s.appendMessage("","assistant"),s.appendStepToLastMsg(n.langgraph_node,`${i} ${r}`,t.content)}else t.content==="</think>"&&t.type==="AIMessageChunk"?(s.appendContentToLastMsg(t.content),s.appendStepToLastMsg(n.langgraph_node,"💭 Thought process",s.lastMsg().content()),s.lastMsg().setContent("")):t.content&&t.type==="AIMessageChunk"&&n.langgraph_node==="call_model"&&s.appendContentToLastMsg(t.content)}}async function to(s){var i;const e=await fetch(`${s.apiUrl}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.apiKey}`},signal:s.abortController.signal,body:JSON.stringify({messages:s.messages().map(({content:o,role:l})=>({content:o(),role:l})),stream:!0,...s.model?{model:s.model}:{}})});s.appendMessage("","assistant");const t=(i=e.body)==null?void 0:i.getReader(),n=new TextDecoder("utf-8");let r="";for(;;)if(t){const{value:o,done:l}=await t.read();if(l)break;const h=n.decode(o,{stream:!0});r+=h;let u=r.split(`
`);r=u.pop()||"";for(const f of u.filter(d=>d.trim()!=="")){if(f==="data: [DONE]")return;if(f.startsWith("data: "))try{const d=JSON.parse(f.substring(6));eo(s,d)}catch(d){console.log("Error parsing line",d,f)}}}}var no=Oe('<div><style></style><div></div><form class="p-2 flex"><div class="container flex mx-auto max-w-5xl items-start space-x-2"><div class="relative flex-grow"><textarea autofocus class="w-full px-4 pr-14 py-2 h-auto border border-slate-400 bg-slate-200 dark:bg-slate-700 dark:border-slate-500 rounded-3xl focus:outline-none focus:ring focus:ring-blue-200 dark:focus:ring-blue-400 overflow-y-hidden resize-none"placeholder="Ask your question"rows=1></textarea><button type=submit></button></div><div class="flex-shrink-0 self-start mt-1"><button title="Start a new conversation"class="w-8 h-8 flex items-center justify-center rounded-full text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shadow-sm"type=button aria-label="Start a new conversation"><img alt="Start a new conversation"class="iconBtn w-4 h-4">'),so=Oe('<div><div><div class="flex flex-col items-start"></div><article class="prose max-w-full">'),$s=Oe('<button class="text-gray-600 ml-8 mb-4 px-3 py-1 border border-gray-300 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors">'),ro=Oe('<dialog class="bg-white dark:bg-gray-800 m-3 rounded-3xl shadow-md w-full"><button class="fixed top-2 right-8 m-3 px-2 text-xl text-slate-500 bg-gray-200 dark:bg-gray-700 rounded-3xl"title="Close documents details"><img alt="Close the dialog"class=iconBtn></button><article class="prose max-w-full p-3"><div class="flex space-x-2 mb-4">'),io=Oe("<button>"),oo=Oe('<article class="prose max-w-full">'),lo=Oe('<dialog class="bg-white dark:bg-gray-800 m-3 rounded-3xl shadow-md w-full"><button class="fixed top-2 right-8 m-3 px-2 text-xl text-slate-500 bg-gray-200 dark:bg-gray-700 rounded-3xl"title="Close step details"><img alt="Close the dialog"class=iconBtn></button><article class="prose max-w-full p-6">'),ao=Oe('<p class="text-gray-400 ml-8 mb-4">'),co=Oe('<a target=_blank class=hover:text-inherit><button class="my-3 mr-1 px-3 py-1 text-sm bg-gray-300 dark:bg-gray-700 rounded-3xl align-middle">'),uo=Oe('<button class="mr-1 my-3 px-3 py-1 text-sm hover:bg-gray-300 dark:hover:bg-gray-800 rounded-3xl align-middle"title="Report a good response"><img alt="Thumbs up"height=20px width=20px class=iconBtn>'),fo=Oe('<button class="my-3 px-3 py-1 text-sm hover:bg-gray-300 dark:hover:bg-gray-800 rounded-3xl align-middle"title="Report a bad response"><img alt="Thumbs down"height=20px width=20px class=iconBtn>'),ho=Oe('<div class=text-center><div class="bg-orange-300 p-2 text-orange-900 text-sm rounded-3xl font-semibold mb-2 inline-block">'),po=Oe('<img alt="Stop generation"class="iconBtn w-4 h-4">'),go=Oe('<img alt="Send question"class="iconBtn w-4 h-4">'),bo=Oe('<div class="py-2 px-4 justify-center items-center text-sm flex flex-col space-y-2">'),mo=Oe('<button class="px-5 py-2.5 bg-slate-200 text-slate-600 rounded-3xl">');Hr("chat-with-context",{chatEndpoint:"",examples:"",apiKey:"",feedbackEndpoint:"",model:""},s=>{$r(),Yn.registerLanguage("ttl",qi),Yn.registerLanguage("sparql",Wi);const[e,t]=He([]),[n,r]=He(""),[i,o]=He(!1),[l,h]=He(""),[u,f]=He(""),[d,y]=He(""),[T,M]=He(!1),x=new Qi({});let X,ne;H.use({gfm:!0}),ps(()=>{s.chatEndpoint===""&&r("Please provide an API URL for the chat component to work."),x.apiUrl=s.chatEndpoint,x.apiKey=s.apiKey,x.model=s.model,x.scrollToInput=()=>{},x.onMessageUpdate=()=>I(),t(s.examples.split(",").map($=>$.trim())),y(s.feedbackEndpoint),ke()});const se=$=>{h($),document.getElementById($).showModal(),history.pushState({dialogOpen:!0},""),document.body.style.overflow="hidden",I()},j=()=>{document.body.style.overflow="";const $=document.getElementById(l());$&&$.close(),h("")};ps(()=>{window.addEventListener("popstate",$=>{l()&&($.preventDefault(),j())})});const I=()=>{document.querySelectorAll("pre code:not(.hljs)").forEach($=>{Yn.highlightElement($)})};async function V($){if(!$.trim()||i())return;ne.value="",o(!0),r(""),setTimeout(()=>ke(),0);const ye=Date.now();try{await Ji(x,$)}catch(pe){pe instanceof Error&&pe.name!=="AbortError"&&(console.error("An error occurred when querying the API:",pe),r("An error occurred when querying the API. Please try again or contact an admin."))}o(!1),M(!1),I(),x.scrollToInput(),console.log(`Request completed in ${(Date.now()-ye)/1e3} seconds`)}function xe($){fetch(d(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({like:$,messages:x.messages().map(ye=>({role:ye.role,content:ye.content(),steps:ye.steps().map(pe=>({label:pe.label,details:pe.details,node_id:pe.node_id,substeps:pe.substeps}))}))})}),M(!0)}function ke(){const $=window.scrollX||window.pageXOffset,ye=window.scrollY||window.pageYOffset;ne.style.height="auto",ne.style.height=ne.scrollHeight+"px",window.scrollTo($,ye),setTimeout(()=>window.scrollTo($,ye),0)}return(()=>{var $=no(),ye=$.firstChild,pe=ye.nextSibling,ae=pe.nextSibling,pt=ae.firstChild,rt=pt.firstChild,Ee=rt.firstChild,it=Ee.nextSibling,Pt=rt.nextSibling,Tt=Pt.firstChild,et=Tt.firstChild;me(ye,Gi);var At=X;typeof At=="function"?bs(At,pe):X=pe,me(pe,Lt(It,{get each(){return x.messages()},children:(R,Q)=>(()=>{var F=so(),Te=F.firstChild,G=Te.firstChild,Fe=G.nextSibling;return me(G,Lt(It,{get each(){return R.steps()},children:(z,J)=>z.substeps&&z.substeps.length>0?[(()=>{var D=$s();return D.$$click=()=>{var q,$e;f((($e=(q=z.substeps)==null?void 0:q[0])==null?void 0:$e.label)||""),se(`step-dialog-${Q()}-${J()}`)},me(D,()=>z.label),Ue(()=>be(D,"title",`Click to see the documents used to generate the response

Node: ${z.node_id}`)),D})(),(()=>{var D=ro(),q=D.firstChild,$e=q.firstChild,Ae=q.nextSibling,Ce=Ae.firstChild;return D.addEventListener("close",()=>j()),q.$$click=()=>j(),be($e,"src",Is),me(Ce,Lt(It,{get each(){return z.substeps.map(W=>W.label)},children:W=>(()=>{var ce=io();return ce.$$click=()=>{f(W),I()},be(ce,"title",`Show ${W}`),me(ce,W),Ue(()=>$t(ce,`px-4 py-2 rounded-lg transition-all ${u()===W?"bg-gray-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`)),ce})()})),me(Ae,Lt(It,{get each(){return z.substeps.filter(W=>W.label===u())},children:W=>(()=>{var ce=oo();return Ue(()=>ce.innerHTML=Wn.sanitize(H.parse(W.details),{ADD_TAGS:["think"]})),ce})()}),null),Ue(W=>{var ce=`step-dialog-${Q()}-${J()}`,Ye=`close-dialog-${Q()}-${J()}`;return ce!==W.e&&be(D,"id",W.e=ce),Ye!==W.t&&be(q,"id",W.t=Ye),W},{e:void 0,t:void 0}),D})()]:z.details?[(()=>{var D=$s();return D.$$click=()=>{se(`step-dialog-${Q()}-${J()}`)},me(D,()=>z.label),Ue(()=>be(D,"title",`Click to see the documents used to generate the response

Node: ${z.node_id}`)),D})(),(()=>{var D=lo(),q=D.firstChild,$e=q.firstChild,Ae=q.nextSibling;return D.addEventListener("close",()=>j()),q.$$click=()=>j(),be($e,"src",Is),Ue(Ce=>{var W=`step-dialog-${Q()}-${J()}`,ce=`close-dialog-${Q()}-${J()}`,Ye=Wn.sanitize(H.parse(z.details),{ADD_TAGS:["think"]});return W!==Ce.e&&be(D,"id",Ce.e=W),ce!==Ce.t&&be(q,"id",Ce.t=ce),Ye!==Ce.a&&(Ae.innerHTML=Ce.a=Ye),Ce},{e:void 0,t:void 0,a:void 0}),D})()]:(()=>{var D=ao();return me(D,()=>z.label),Ue(()=>be(D,"title",`Node: ${z.node_id}`)),D})()})),me(Te,Lt(It,{get each(){return R.links()},children:z=>(()=>{var J=co(),D=J.firstChild;return me(D,()=>z.label),Ue(q=>{var $e=z.url,Ae=z.title;return $e!==q.e&&be(J,"href",q.e=$e),Ae!==q.t&&be(J,"title",q.t=Ae),q},{e:void 0,t:void 0}),J})()}),null),me(Te,(()=>{var z=Qt(()=>!!(d()&&R.role==="assistant"&&Q()===x.messages().length-1&&x.lastMsg().content()&&!T()));return()=>z()&&[(()=>{var J=uo(),D=J.firstChild;return J.$$click=()=>xe(!0),be(D,"src",Vi),J})(),(()=>{var J=fo(),D=J.firstChild;return J.$$click=()=>xe(!1),be(D,"src",Xi),J})()]})(),null),Ue(z=>{var J=`w-full flex flex-col flex-grow ${R.role==="user"?"items-end":""}`,D=`py-2.5 mb-2 ${R.role==="user"?"bg-gray-300 rounded-3xl px-5":""}`,q=Wn.sanitize(H.parse(R.content()),{ADD_TAGS:["think"]});return J!==z.e&&$t(F,z.e=J),D!==z.t&&$t(Te,z.t=D),q!==z.a&&(Fe.innerHTML=z.a=q),z},{e:void 0,t:void 0,a:void 0}),F})()})),me($,(()=>{var R=Qt(()=>!!n());return()=>R()&&(()=>{var Q=ho(),F=Q.firstChild;return me(F,n),Q})()})(),ae),ae.addEventListener("submit",R=>{R.preventDefault(),R.type==="submit"&&R.submitter&&i()&&x.abortRequest(),V(ne.value)}),Ee.$$input=()=>ke(),Ee.$$keydown=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),V(ne.value))};var dt=ne;return typeof dt=="function"?bs(dt,Ee):ne=Ee,Ee.style.setProperty("overflow-anchor","none"),me(it,(()=>{var R=Qt(()=>!!i());return()=>R()?(()=>{var Q=po();return be(Q,"src",Zi),Q})():(()=>{var Q=go();return be(Q,"src",Ki),Q})()})()),Tt.$$click=()=>x.setMessages([]),be(et,"src",Yi),me($,(()=>{var R=Qt(()=>x.messages().length<1);return()=>R()&&(()=>{var Q=bo();return me(Q,Lt(It,{get each(){return e()},children:F=>(()=>{var Te=mo();return Te.$$click=()=>V(F),me(Te,F),Te})()})),Q})()})(),null),Ue(R=>{var Q=`chat-with-context w-full h-full flex flex-col ${x.messages().length===0?"justify-center":""}`,F=`overflow-y-auto ${x.messages().length!==0?"flex-grow":""}`,Te=i()?"Stop generation":"Send question",G=`absolute right-2 top-1 w-8 h-8 flex items-center justify-center rounded-full text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shadow-sm ${i()?"loading-spark":""}`,Fe=i()?"Stop generation":"Send question";return Q!==R.e&&$t($,R.e=Q),F!==R.t&&$t(pe,R.t=F),Te!==R.a&&be(it,"title",R.a=Te),G!==R.o&&$t(it,R.o=G),Fe!==R.i&&be(it,"aria-label",R.i=Fe),R},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),$})()});Sr(["keydown","input","click"]);
