var hr=Object.defineProperty;var pr=(s,e,t)=>e in s?hr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Q=(s,e,t)=>pr(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const gr=!1,dr=(s,e)=>s===e,br=Symbol("solid-track"),Tn={equals:dr};let Ds=Us;const ut=1,An=2,Ps={owned:null,cleanups:null,context:null,owner:null};var me=null;let Un=null,mr=null,he=null,Ae=null,st=null,Nn=0;function yn(s,e){const t=he,n=me,r=s.length===0,i=e===void 0?n:e,o=r?Ps:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?s:()=>s(()=>sn(()=>nn(o)));me=o,he=null;try{return on(l,!0)}finally{he=t,me=n}}function Fe(s,e){e=e?Object.assign({},Tn,e):Tn;const t={value:s,observers:null,observerSlots:null,comparator:e.equals||void 0},n=r=>(typeof r=="function"&&(r=r(t.value)),zs(t,r));return[Bs.bind(t),n]}function He(s,e,t){const n=Jn(s,e,!1,ut);rn(n)}function ps(s,e,t){Ds=kr;const n=Jn(s,e,!1,ut);n.user=!0,st?st.push(n):rn(n)}function Qt(s,e,t){t=t?Object.assign({},Tn,t):Tn;const n=Jn(s,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,rn(n),Bs.bind(n)}function sn(s){if(he===null)return s();const e=he;he=null;try{return s()}finally{he=e}}function _r(s){return me===null||(me.cleanups===null?me.cleanups=[s]:me.cleanups.push(s)),s}function Bs(){if(this.sources&&this.state)if(this.state===ut)rn(this);else{const s=Ae;Ae=null,on(()=>Rn(this),!1),Ae=s}if(he){const s=this.observers?this.observers.length:0;he.sources?(he.sources.push(this),he.sourceSlots.push(s)):(he.sources=[this],he.sourceSlots=[s]),this.observers?(this.observers.push(he),this.observerSlots.push(he.sources.length-1)):(this.observers=[he],this.observerSlots=[he.sources.length-1])}return this.value}function zs(s,e,t){let n=s.value;return(!s.comparator||!s.comparator(n,e))&&(s.value=e,s.observers&&s.observers.length&&on(()=>{for(let r=0;r<s.observers.length;r+=1){const i=s.observers[r],o=Un&&Un.running;o&&Un.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?Ae.push(i):st.push(i),i.observers&&Hs(i)),o||(i.state=ut)}if(Ae.length>1e6)throw Ae=[],new Error},!1)),e}function rn(s){if(!s.fn)return;nn(s);const e=Nn;xr(s,s.value,e)}function xr(s,e,t){let n;const r=me,i=he;he=me=s;try{n=s.fn(e)}catch(o){return s.pure&&(s.state=ut,s.owned&&s.owned.forEach(nn),s.owned=null),s.updatedAt=t+1,Fs(o)}finally{he=i,me=r}(!s.updatedAt||s.updatedAt<=t)&&(s.updatedAt!=null&&"observers"in s?zs(s,n):s.value=n,s.updatedAt=t)}function Jn(s,e,t,n=ut,r){const i={fn:s,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:me,context:me?me.context:null,pure:t};return me===null||me!==Ps&&(me.owned?me.owned.push(i):me.owned=[i]),i}function Sn(s){if(s.state===0)return;if(s.state===An)return Rn(s);if(s.suspense&&sn(s.suspense.inFallback))return s.suspense.effects.push(s);const e=[s];for(;(s=s.owner)&&(!s.updatedAt||s.updatedAt<Nn);)s.state&&e.push(s);for(let t=e.length-1;t>=0;t--)if(s=e[t],s.state===ut)rn(s);else if(s.state===An){const n=Ae;Ae=null,on(()=>Rn(s,e[0]),!1),Ae=n}}function on(s,e){if(Ae)return s();let t=!1;e||(Ae=[]),st?t=!0:st=[],Nn++;try{const n=s();return wr(t),n}catch(n){t||(st=null),Ae=null,Fs(n)}}function wr(s){if(Ae&&(Us(Ae),Ae=null),s)return;const e=st;st=null,e.length&&on(()=>Ds(e),!1)}function Us(s){for(let e=0;e<s.length;e++)Sn(s[e])}function kr(s){let e,t=0;for(e=0;e<s.length;e++){const n=s[e];n.user?s[t++]=n:Sn(n)}for(e=0;e<t;e++)Sn(s[e])}function Rn(s,e){s.state=0;for(let t=0;t<s.sources.length;t+=1){const n=s.sources[t];if(n.sources){const r=n.state;r===ut?n!==e&&(!n.updatedAt||n.updatedAt<Nn)&&Sn(n):r===An&&Rn(n,e)}}}function Hs(s){for(let e=0;e<s.observers.length;e+=1){const t=s.observers[e];t.state||(t.state=An,t.pure?Ae.push(t):st.push(t),t.observers&&Hs(t))}}function nn(s){let e;if(s.sources)for(;s.sources.length;){const t=s.sources.pop(),n=s.sourceSlots.pop(),r=t.observers;if(r&&r.length){const i=r.pop(),o=t.observerSlots.pop();n<r.length&&(i.sourceSlots[o]=n,r[n]=i,t.observerSlots[n]=o)}}if(s.tOwned){for(e=s.tOwned.length-1;e>=0;e--)nn(s.tOwned[e]);delete s.tOwned}if(s.owned){for(e=s.owned.length-1;e>=0;e--)nn(s.owned[e]);s.owned=null}if(s.cleanups){for(e=s.cleanups.length-1;e>=0;e--)s.cleanups[e]();s.cleanups=null}s.state=0}function yr(s){return s instanceof Error?s:new Error(typeof s=="string"?s:"Unknown error",{cause:s})}function Fs(s,e=me){throw yr(s)}const Er=Symbol("fallback");function gs(s){for(let e=0;e<s.length;e++)s[e]()}function Tr(s,e,t={}){let n=[],r=[],i=[],o=0,l=e.length>1?[]:null;return _r(()=>gs(i)),()=>{let h=s()||[],u=h.length,f,g;return h[br],sn(()=>{let T,L,w,Y,J,ne,j,I,X;if(u===0)o!==0&&(gs(i),i=[],n=[],r=[],o=0,l&&(l=[])),t.fallback&&(n=[Er],r[0]=yn(we=>(i[0]=we,t.fallback())),o=1);else if(o===0){for(r=new Array(u),g=0;g<u;g++)n[g]=h[g],r[g]=yn(y);o=u}else{for(w=new Array(u),Y=new Array(u),l&&(J=new Array(u)),ne=0,j=Math.min(o,u);ne<j&&n[ne]===h[ne];ne++);for(j=o-1,I=u-1;j>=ne&&I>=ne&&n[j]===h[I];j--,I--)w[I]=r[j],Y[I]=i[j],l&&(J[I]=l[j]);for(T=new Map,L=new Array(I+1),g=I;g>=ne;g--)X=h[g],f=T.get(X),L[g]=f===void 0?-1:f,T.set(X,g);for(f=ne;f<=j;f++)X=n[f],g=T.get(X),g!==void 0&&g!==-1?(w[g]=r[f],Y[g]=i[f],l&&(J[g]=l[f]),g=L[g],T.set(X,g)):i[f]();for(g=ne;g<u;g++)g in w?(r[g]=w[g],i[g]=Y[g],l&&(l[g]=J[g],l[g](g))):r[g]=yn(y);r=r.slice(0,o=u),n=h.slice(0)}return r});function y(T){if(i[g]=T,l){const[L,w]=Fe(g);return l[g]=w,e(h[g],L)}return e(h[g])}}}function Lt(s,e){return sn(()=>s(e||{}))}function Nt(s){const e="fallback"in s&&{fallback:()=>s.fallback};return Qt(Tr(()=>s.each,s.children,e||void 0))}function Ar(s,e,t){let n=t.length,r=e.length,i=n,o=0,l=0,h=e[r-1].nextSibling,u=null;for(;o<r||l<i;){if(e[o]===t[l]){o++,l++;continue}for(;e[r-1]===t[i-1];)r--,i--;if(r===o){const f=i<n?l?t[l-1].nextSibling:t[i-l]:h;for(;l<i;)s.insertBefore(t[l++],f)}else if(i===l)for(;o<r;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[i-1]&&t[l]===e[r-1]){const f=e[--r].nextSibling;s.insertBefore(t[l++],e[o++].nextSibling),s.insertBefore(t[--i],f),e[r]=t[i]}else{if(!u){u=new Map;let g=l;for(;g<i;)u.set(t[g],g++)}const f=u.get(e[o]);if(f!=null)if(l<f&&f<i){let g=o,y=1,T;for(;++g<r&&g<i&&!((T=u.get(e[g]))==null||T!==f+y);)y++;if(y>f-l){const L=e[o];for(;l<f;)s.insertBefore(t[l++],L)}else s.replaceChild(t[l++],e[o++])}else o++;else e[o++].remove()}}}const ds="_$DX_DELEGATE";function Se(s,e,t,n){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=s,l.content.firstChild},o=()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function Sr(s,e=window.document){const t=e[ds]||(e[ds]=new Set);for(let n=0,r=s.length;n<r;n++){const i=s[n];t.has(i)||(t.add(i),e.addEventListener(i,Rr))}}function _e(s,e,t){t==null?s.removeAttribute(e):s.setAttribute(e,t)}function jt(s,e){e==null?s.removeAttribute("class"):s.className=e}function bs(s,e,t){return sn(()=>s(e,t))}function be(s,e,t,n){if(t!==void 0&&!n&&(n=[]),typeof e!="function")return vn(s,e,n,t);He(r=>vn(s,e(),r,t),n)}function Rr(s){let e=s.target;const t=`$$${s.type}`,n=s.target,r=s.currentTarget,i=h=>Object.defineProperty(s,"target",{configurable:!0,value:h}),o=()=>{const h=e[t];if(h&&!e.disabled){const u=e[`${t}Data`];if(u!==void 0?h.call(e,u,s):h.call(e,s),s.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(s.target)&&i(e.host),!0},l=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(s,"currentTarget",{configurable:!0,get(){return e||document}}),s.composedPath){const h=s.composedPath();i(h[0]);for(let u=0;u<h.length-2&&(e=h[u],!!o());u++){if(e._$host){e=e._$host,l();break}if(e.parentNode===r)break}}else l();i(n)}function vn(s,e,t,n,r){for(;typeof t=="function";)t=t();if(e===t)return t;const i=typeof e,o=n!==void 0;if(s=o&&t[0]&&t[0].parentNode||s,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===t))return t;if(o){let l=t[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),t=Mt(s,t,n,l)}else t!==""&&typeof t=="string"?t=s.firstChild.data=e:t=s.textContent=e}else if(e==null||i==="boolean")t=Mt(s,t,n);else{if(i==="function")return He(()=>{let l=e();for(;typeof l=="function";)l=l();t=vn(s,l,t,n)}),()=>t;if(Array.isArray(e)){const l=[],h=t&&Array.isArray(t);if(Yn(l,e,t,r))return He(()=>t=vn(s,l,t,n,!0)),()=>t;if(l.length===0){if(t=Mt(s,t,n),o)return t}else h?t.length===0?ms(s,l,n):Ar(s,t,l):(t&&Mt(s),ms(s,l));t=l}else if(e.nodeType){if(Array.isArray(t)){if(o)return t=Mt(s,t,n,e);Mt(s,t,null,e)}else t==null||t===""||!s.firstChild?s.appendChild(e):s.replaceChild(e,s.firstChild);t=e}}return t}function Yn(s,e,t,n){let r=!1;for(let i=0,o=e.length;i<o;i++){let l=e[i],h=t&&t[s.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)s.push(l);else if(Array.isArray(l))r=Yn(s,l,h)||r;else if(u==="function")if(n){for(;typeof l=="function";)l=l();r=Yn(s,Array.isArray(l)?l:[l],Array.isArray(h)?h:[h])||r}else s.push(l),r=!0;else{const f=String(l);h&&h.nodeType===3&&h.data===f?s.push(h):s.push(document.createTextNode(f))}}return r}function ms(s,e,t=null){for(let n=0,r=e.length;n<r;n++)s.insertBefore(e[n],t)}function Mt(s,e,t,n){if(t===void 0)return s.textContent="";const r=n||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(r!==l){const h=l.parentNode===s;!i&&!o?h?s.replaceChild(r,l):s.insertBefore(r,t):h&&l.remove()}else i=!0}}else s.insertBefore(r,t);return[r]}function vr(s){return Object.keys(s).reduce((t,n)=>{const r=s[n];return t[n]=Object.assign({},r),js(r.value)&&!Mr(r.value)&&!Array.isArray(r.value)&&(t[n].value=Object.assign({},r.value)),Array.isArray(r.value)&&(t[n].value=r.value.slice(0)),t},{})}function Or(s){return s?Object.keys(s).reduce((t,n)=>{const r=s[n];return t[n]=js(r)&&"value"in r?r:{value:r},t[n].attribute||(t[n].attribute=Nr(n)),t[n].parse="parse"in t[n]?t[n].parse:typeof t[n].value!="string",t},{}):{}}function Cr(s){return Object.keys(s).reduce((t,n)=>(t[n]=s[n].value,t),{})}function Lr(s,e){const t=vr(e);return Object.keys(e).forEach(r=>{const i=t[r],o=s.getAttribute(i.attribute),l=s[r];o!=null&&(i.value=i.parse?Gs(o):o),l!=null&&(i.value=Array.isArray(l)?l.slice(0):l),i.reflect&&_s(s,i.attribute,i.value,!!i.parse),Object.defineProperty(s,r,{get(){return i.value},set(h){const u=i.value;i.value=h,i.reflect&&_s(this,i.attribute,i.value,!!i.parse);for(let f=0,g=this.__propertyChangedCallbacks.length;f<g;f++)this.__propertyChangedCallbacks[f](r,h,u)},enumerable:!0,configurable:!0})}),t}function Gs(s){if(s)try{return JSON.parse(s)}catch{return s}}function _s(s,e,t,n){if(t==null||t===!1)return s.removeAttribute(e);let r=n?JSON.stringify(t):t;s.__updating[e]=!0,r==="true"&&(r=""),s.setAttribute(e,r),Promise.resolve().then(()=>delete s.__updating[e])}function Nr(s){return s.replace(/\.?([A-Z]+)/g,(e,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")}function js(s){return s!=null&&(typeof s=="object"||typeof s=="function")}function Mr(s){return Object.prototype.toString.call(s)==="[object Function]"}function Ir(s){return typeof s=="function"&&s.toString().indexOf("class")===0}let Jt;function $r(){Object.defineProperty(Jt,"renderRoot",{value:Jt})}function Dr(s,e){const t=Object.keys(e);return class extends s{static get observedAttributes(){return t.map(r=>e[r].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=Lr(this,e);const r=Cr(this.props),i=this.Component,o=Jt;try{Jt=this,this.__initialized=!0,Ir(i)?new i(r,{element:this}):i(r,{element:this})}finally{Jt=o}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let r=null;for(;r=this.__releaseCallbacks.pop();)r(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(r,i,o){if(this.__initialized&&!this.__updating[r]&&(r=this.lookupProp(r),r in e)){if(o==null&&!this[r])return;this[r]=e[r].parse?Gs(o):o}}lookupProp(r){if(e)return t.find(i=>r===i||r===e[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(r){this.__releaseCallbacks.push(r)}addPropertyChangedCallback(r){this.__propertyChangedCallbacks.push(r)}}}function Pr(s,e={},t={}){const{BaseElement:n=HTMLElement,extension:r,customElements:i=window.customElements}=t;return o=>{let l=i.get(s);return l?(l.prototype.Component=o,l):(l=Dr(n,Or(e)),l.prototype.Component=o,l.prototype.registeredTag=s,i.define(s,l,r),l)}}function Br(s){const e=Object.keys(s),t={};for(let n=0;n<e.length;n++){const[r,i]=Fe(s[e[n]]);Object.defineProperty(t,e[n],{get:r,set(o){i(()=>o)}})}return t}function zr(s){if(s.assignedSlot&&s.assignedSlot._$owner)return s.assignedSlot._$owner;let e=s.parentNode;for(;e&&!e._$owner&&!(e.assignedSlot&&e.assignedSlot._$owner);)e=e.parentNode;return e&&e.assignedSlot?e.assignedSlot._$owner:s._$owner}function Ur(s){return(e,t)=>{const{element:n}=t;return yn(r=>{const i=Br(e);n.addPropertyChangedCallback((l,h)=>i[l]=h),n.addReleaseCallback(()=>{n.renderRoot.textContent="",r()});const o=s(i,t);return be(n.renderRoot,o)},zr(n))}}function Hr(s,e,t){return arguments.length===2&&(t=e,e={}),Pr(s,e)(Ur(t))}function es(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let wt=es();function qs(s){wt=s}const en={exec:()=>null};function Z(s,e=""){let t=typeof s=="string"?s:s.source;const n={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Ce.caret,"$1"),t=t.replace(r,o),n},getRegex:()=>new RegExp(t,e)};return n}const Ce={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},Fr=/^(?:[ \t]*(?:\n|$))+/,Gr=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,jr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ln=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qr=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ws=/(?:[*+-]|\d{1,9}[.)])/,Ks=Z(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ws).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ts=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wr=/^[^\n]+/,ns=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Kr=Z(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ns).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Zr=Z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ws).getRegex(),Mn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ss=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Yr=Z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ss).replace("tag",Mn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zs=Z(ts).replace("hr",ln).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mn).getRegex(),Xr=Z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Zs).getRegex(),rs={blockquote:Xr,code:Gr,def:Kr,fences:jr,heading:qr,hr:ln,html:Yr,lheading:Ks,list:Zr,newline:Fr,paragraph:Zs,table:en,text:Wr},xs=Z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ln).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mn).getRegex(),Vr={...rs,table:xs,paragraph:Z(ts).replace("hr",ln).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mn).getRegex()},Qr={...rs,html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ss).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:en,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(ts).replace("hr",ln).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ks).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ys=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Jr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xs=/^( {2,}|\\)\n(?!\s*$)/,ei=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,In=/[\p{P}\p{S}]/u,is=/[\s\p{P}\p{S}]/u,Vs=/[^\s\p{P}\p{S}]/u,ti=Z(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,is).getRegex(),ni=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,si=Z(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,In).getRegex(),ri=Z("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,Vs).replace(/punctSpace/g,is).replace(/punct/g,In).getRegex(),ii=Z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Vs).replace(/punctSpace/g,is).replace(/punct/g,In).getRegex(),oi=Z(/\\(punct)/,"gu").replace(/punct/g,In).getRegex(),li=Z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ai=Z(ss).replace("(?:-->|$)","-->").getRegex(),ci=Z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ai).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),On=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ui=Z(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",On).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Qs=Z(/^!?\[(label)\]\[(ref)\]/).replace("label",On).replace("ref",ns).getRegex(),Js=Z(/^!?\[(ref)\](?:\[\])?/).replace("ref",ns).getRegex(),fi=Z("reflink|nolink(?!\\()","g").replace("reflink",Qs).replace("nolink",Js).getRegex(),os={_backpedal:en,anyPunctuation:oi,autolink:li,blockSkip:ni,br:Xs,code:Jr,del:en,emStrongLDelim:si,emStrongRDelimAst:ri,emStrongRDelimUnd:ii,escape:Ys,link:ui,nolink:Js,punctuation:ti,reflink:Qs,reflinkSearch:fi,tag:ci,text:ei,url:en},hi={...os,link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",On).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",On).getRegex()},Xn={...os,escape:Z(Ys).replace("])","~|])").getRegex(),url:Z(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},pi={...Xn,br:Z(Xs).replace("{2,}","*").getRegex(),text:Z(Xn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},xn={normal:rs,gfm:Vr,pedantic:Qr},qt={normal:os,gfm:Xn,breaks:pi,pedantic:hi},gi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ws=s=>gi[s];function et(s,e){if(e){if(Ce.escapeTest.test(s))return s.replace(Ce.escapeReplace,ws)}else if(Ce.escapeTestNoEncode.test(s))return s.replace(Ce.escapeReplaceNoEncode,ws);return s}function ks(s){try{s=encodeURI(s).replace(Ce.percentDecode,"%")}catch{return null}return s}function ys(s,e){var i;const t=s.replace(Ce.findPipe,(o,l,h)=>{let u=!1,f=l;for(;--f>=0&&h[f]==="\\";)u=!u;return u?"|":" |"}),n=t.split(Ce.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Ce.slashPipe,"|");return n}function Wt(s,e,t){const n=s.length;if(n===0)return"";let r=0;for(;r<n&&s.charAt(n-r-1)===e;)r++;return s.slice(0,n-r)}function di(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return-1}function Es(s,e,t,n,r){const i=e.href,o=e.title||null,l=s[1].replace(r.other.outputLinkReplace,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;const h={type:"link",raw:t,href:i,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,h}return{type:"image",raw:t,href:i,title:o,text:l}}function bi(s,e,t){const n=s.match(t.other.indentCodeCompensation);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const o=i.match(t.other.beginningSpace);if(o===null)return i;const[l]=o;return l.length>=r.length?i.slice(r.length):i}).join(`
`)}class Cn{constructor(e){Q(this,"options");Q(this,"rules");Q(this,"lexer");this.options=e||wt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Wt(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=bi(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=Wt(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Wt(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Wt(t[0],`
`).split(`
`),r="",i="";const o=[];for(;n.length>0;){let l=!1;const h=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))h.push(n[u]),l=!0;else if(!l)h.push(n[u]);else break;n=n.slice(u);const f=h.join(`
`),g=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${f}`:f,i=i?`${i}
${g}`:g;const y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,o,!0),this.lexer.state.top=y,n.length===0)break;const T=o.at(-1);if((T==null?void 0:T.type)==="code")break;if((T==null?void 0:T.type)==="blockquote"){const L=T,w=L.raw+`
`+n.join(`
`),Y=this.blockquote(w);o[o.length-1]=Y,r=r.substring(0,r.length-L.raw.length)+Y.raw,i=i.substring(0,i.length-L.text.length)+Y.text;break}else if((T==null?void 0:T.type)==="list"){const L=T,w=L.raw+`
`+n.join(`
`),Y=this.list(w);o[o.length-1]=Y,r=r.substring(0,r.length-T.raw.length)+Y.raw,i=i.substring(0,i.length-L.raw.length)+Y.raw,n=w.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let l=!1;for(;e;){let u=!1,f="",g="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let y=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,ne=>" ".repeat(3*ne.length)),T=e.split(`
`,1)[0],L=!y.trim(),w=0;if(this.options.pedantic?(w=2,g=y.trimStart()):L?w=t[1].length+1:(w=t[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,g=y.slice(w),w+=t[1].length),L&&this.rules.other.blankLine.test(T)&&(f+=T+`
`,e=e.substring(T.length+1),u=!0),!u){const ne=this.rules.other.nextBulletRegex(w),j=this.rules.other.hrRegex(w),I=this.rules.other.fencesBeginRegex(w),X=this.rules.other.headingBeginRegex(w),we=this.rules.other.htmlBeginRegex(w);for(;e;){const ke=e.split(`
`,1)[0];let B;if(T=ke,this.options.pedantic?(T=T.replace(this.rules.other.listReplaceNesting,"  "),B=T):B=T.replace(this.rules.other.tabCharGlobal,"    "),I.test(T)||X.test(T)||we.test(T)||ne.test(T)||j.test(T))break;if(B.search(this.rules.other.nonSpaceChar)>=w||!T.trim())g+=`
`+B.slice(w);else{if(L||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(y)||X.test(y)||j.test(y))break;g+=`
`+T}!L&&!T.trim()&&(L=!0),f+=ke+`
`,e=e.substring(ke.length+1),y=B.slice(w)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let Y=null,J;this.options.gfm&&(Y=this.rules.other.listIsTask.exec(g),Y&&(J=Y[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:f,task:!!Y,checked:J,loose:!1,text:g,tokens:[]}),i.raw+=f}const h=i.items.at(-1);h&&(h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd()),i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const f=i.items[u].tokens.filter(y=>y.type==="space"),g=f.length>0&&f.some(y=>this.rules.other.anyLine.test(y.raw));i.loose=g}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){var l;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=ys(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(l=t[3])!=null&&l.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const h of r)this.rules.other.tableAlignRight.test(h)?o.align.push("right"):this.rules.other.tableAlignCenter.test(h)?o.align.push("center"):this.rules.other.tableAlignLeft.test(h)?o.align.push("left"):o.align.push(null);for(let h=0;h<n.length;h++)o.header.push({text:n[h],tokens:this.lexer.inline(n[h]),header:!0,align:o.align[h]});for(const h of i)o.rows.push(ys(h,o.header.length).map((u,f)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[f]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=Wt(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=di(t[2],"()");if(o>-1){const h=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,h).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Es(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Es(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...r[0]].length-1;let l,h,u=o,f=0;const g=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,t=t.slice(-1*e.length+o);(r=g.exec(t))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(h=[...l].length,r[3]||r[4]){u+=h;continue}else if((r[5]||r[6])&&o%3&&!((o+h)%3)){f+=h;continue}if(u-=h,u>0)continue;h=Math.min(h,h+u+f);const y=[...r[0]][0].length,T=e.slice(0,o+r.index+y+h);if(Math.min(o,h)%2){const w=T.slice(1,-1);return{type:"em",raw:T,text:w,tokens:this.lexer.inlineTokens(w)}}const L=T.slice(2,-2);return{type:"strong",raw:T,text:L,tokens:this.lexer.inlineTokens(L)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=t[0],i="mailto:"+r;else{let o;do o=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(o!==t[0]);r=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class qe{constructor(e){Q(this,"tokens");Q(this,"options");Q(this,"state");Q(this,"tokenizer");Q(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||wt,this.options.tokenizer=this.options.tokenizer||new Cn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Ce,block:xn.normal,inline:qt.normal};this.options.pedantic?(t.block=xn.pedantic,t.inline=qt.pedantic):this.options.gfm&&(t.block=xn.gfm,this.options.breaks?t.inline=qt.breaks:t.inline=qt.gfm),this.tokenizer.rules=t}static get rules(){return{block:xn,inline:qt}}static lex(e,t){return new qe(t).lex(e)}static lexInline(e,t){return new qe(t).inlineTokens(e)}lex(e){e=e.replace(Ce.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var r,i,o;for(this.options.pedantic&&(e=e.replace(Ce.tabCharGlobal,"    ").replace(Ce.spaceLine,""));e;){let l;if((i=(r=this.options.extensions)==null?void 0:r.block)!=null&&i.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);const u=t.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);const u=t.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);const u=t.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}let h=e;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0;const f=e.slice(1);let g;this.options.extensions.startBlock.forEach(y=>{g=y.call({lexer:this},f),typeof g=="number"&&g>=0&&(u=Math.min(u,g))}),u<1/0&&u>=0&&(h=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(h))){const u=t.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):t.push(l),n=h.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);const u=t.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var l,h,u;let n=e,r=null;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)f.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let f;if((h=(l=this.options.extensions)==null?void 0:l.inline)!=null&&h.some(y=>(f=y.call({lexer:this},e,t))?(e=e.substring(f.raw.length),t.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);const y=t.at(-1);f.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=f.raw,y.text+=f.text):t.push(f);continue}if(f=this.tokenizer.emStrong(e,n,o)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),t.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),t.push(f);continue}let g=e;if((u=this.options.extensions)!=null&&u.startInline){let y=1/0;const T=e.slice(1);let L;this.options.extensions.startInline.forEach(w=>{L=w.call({lexer:this},T),typeof L=="number"&&L>=0&&(y=Math.min(y,L))}),y<1/0&&y>=0&&(g=e.substring(0,y+1))}if(f=this.tokenizer.inlineText(g)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),i=!0;const y=t.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=f.raw,y.text+=f.text):t.push(f);continue}if(e){const y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return t}}class Ln{constructor(e){Q(this,"options");Q(this,"parser");this.options=e||wt}space(e){return""}code({text:e,lang:t,escaped:n}){var o;const r=(o=(t||"").match(Ce.notSpaceStart))==null?void 0:o[0],i=e.replace(Ce.endingNewline,"")+`
`;return r?'<pre><code class="language-'+et(r)+'">'+(n?i:et(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:et(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let l=0;l<e.items.length;l++){const h=e.items[l];r+=this.listitem(h)}const i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+et(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];n="";for(let l=0;l<o.length;l++)n+=this.tablecell(o[l]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${et(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=ks(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return t&&(o+=' title="'+et(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n}){const r=ks(e);if(r===null)return et(n);e=r;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${et(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:et(e.text)}}class ls{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class We{constructor(e){Q(this,"options");Q(this,"renderer");Q(this,"textRenderer");this.options=e||wt,this.options.renderer=this.options.renderer||new Ln,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ls}static parse(e,t){return new We(t).parse(e)}static parseInline(e,t){return new We(t).parseInline(e)}parse(e,t=!0){var r,i;let n="";for(let o=0;o<e.length;o++){const l=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[l.type]){const u=l,f=this.options.extensions.renderers[u.type].call({parser:this},u);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){n+=f||"";continue}}const h=l;switch(h.type){case"space":{n+=this.renderer.space(h);continue}case"hr":{n+=this.renderer.hr(h);continue}case"heading":{n+=this.renderer.heading(h);continue}case"code":{n+=this.renderer.code(h);continue}case"table":{n+=this.renderer.table(h);continue}case"blockquote":{n+=this.renderer.blockquote(h);continue}case"list":{n+=this.renderer.list(h);continue}case"html":{n+=this.renderer.html(h);continue}case"paragraph":{n+=this.renderer.paragraph(h);continue}case"text":{let u=h,f=this.renderer.text(u);for(;o+1<e.length&&e[o+1].type==="text";)u=e[++o],f+=`
`+this.renderer.text(u);t?n+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):n+=f;continue}default:{const u='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,t=this.renderer){var r,i;let n="";for(let o=0;o<e.length;o++){const l=e[o];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[l.type]){const u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=u||"";continue}}const h=l;switch(h.type){case"escape":{n+=t.text(h);break}case"html":{n+=t.html(h);break}case"link":{n+=t.link(h);break}case"image":{n+=t.image(h);break}case"strong":{n+=t.strong(h);break}case"em":{n+=t.em(h);break}case"codespan":{n+=t.codespan(h);break}case"br":{n+=t.br(h);break}case"del":{n+=t.del(h);break}case"text":{n+=t.text(h);break}default:{const u='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}}class tn{constructor(e){Q(this,"options");Q(this,"block");this.options=e||wt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?qe.lex:qe.lexInline}provideParser(){return this.block?We.parse:We.parseInline}}Q(tn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class mi{constructor(...e){Q(this,"defaults",es());Q(this,"options",this.setOptions);Q(this,"parse",this.parseMarkdown(!0));Q(this,"parseInline",this.parseMarkdown(!1));Q(this,"Parser",We);Q(this,"Renderer",Ln);Q(this,"TextRenderer",ls);Q(this,"Lexer",qe);Q(this,"Tokenizer",Cn);Q(this,"Hooks",tn);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(const o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{const l=o;for(const h of l.header)n=n.concat(this.walkTokens(h.tokens,t));for(const h of l.rows)for(const u of h)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const l=o;n=n.concat(this.walkTokens(l.items,t));break}default:{const l=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(h=>{const u=l[h].flat(1/0);n=n.concat(this.walkTokens(u,t))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=t.renderers[i.name];o?t.renderers[i.name]=function(...l){let h=i.renderer.apply(this,l);return h===!1&&(h=o.apply(this,l)),h}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[i.level];o?o.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new Ln(this.defaults);for(const o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,h=n.renderer[l],u=i[l];i[l]=(...f)=>{let g=h.apply(i,f);return g===!1&&(g=u.apply(i,f)),g||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Cn(this.defaults);for(const o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,h=n.tokenizer[l],u=i[l];i[l]=(...f)=>{let g=h.apply(i,f);return g===!1&&(g=u.apply(i,f)),g}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new tn;for(const o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,h=n.hooks[l],u=i[l];tn.passThroughHooks.has(o)?i[l]=f=>{if(this.defaults.async)return Promise.resolve(h.call(i,f)).then(y=>u.call(i,y));const g=h.call(i,f);return u.call(i,g)}:i[l]=(...f)=>{let g=h.apply(i,f);return g===!1&&(g=u.apply(i,f)),g}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(l){let h=[];return h.push(o.call(this,l)),i&&(h=h.concat(i.call(this,l))),h}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return qe.lex(e,t??this.defaults)}parser(e,t){return We.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const i={...r},o={...this.defaults,...i},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const h=o.hooks?o.hooks.provideLexer():e?qe.lex:qe.lexInline,u=o.hooks?o.hooks.provideParser():e?We.parse:We.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(f=>h(f,o)).then(f=>o.hooks?o.hooks.processAllTokens(f):f).then(f=>o.walkTokens?Promise.all(this.walkTokens(f,o.walkTokens)).then(()=>f):f).then(f=>u(f,o)).then(f=>o.hooks?o.hooks.postprocess(f):f).catch(l);try{o.hooks&&(n=o.hooks.preprocess(n));let f=h(n,o);o.hooks&&(f=o.hooks.processAllTokens(f)),o.walkTokens&&this.walkTokens(f,o.walkTokens);let g=u(f,o);return o.hooks&&(g=o.hooks.postprocess(g)),g}catch(f){return l(f)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+et(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}}const xt=new mi;function F(s,e){return xt.parse(s,e)}F.options=F.setOptions=function(s){return xt.setOptions(s),F.defaults=xt.defaults,qs(F.defaults),F};F.getDefaults=es;F.defaults=wt;F.use=function(...s){return xt.use(...s),F.defaults=xt.defaults,qs(F.defaults),F};F.walkTokens=function(s,e){return xt.walkTokens(s,e)};F.parseInline=xt.parseInline;F.Parser=We;F.parser=We.parse;F.Renderer=Ln;F.TextRenderer=ls;F.Lexer=qe;F.lexer=qe.lex;F.Tokenizer=Cn;F.Hooks=tn;F.parse=F;F.options;F.setOptions;F.use;F.walkTokens;F.parseInline;We.parse;qe.lex;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:er,setPrototypeOf:Ts,isFrozen:_i,getPrototypeOf:xi,getOwnPropertyDescriptor:wi}=Object;let{freeze:Le,seal:Ke,create:tr}=Object,{apply:Vn,construct:Qn}=typeof Reflect<"u"&&Reflect;Le||(Le=function(e){return e});Ke||(Ke=function(e){return e});Vn||(Vn=function(e,t,n){return e.apply(t,n)});Qn||(Qn=function(e,t){return new e(...t)});const wn=Ne(Array.prototype.forEach),ki=Ne(Array.prototype.lastIndexOf),As=Ne(Array.prototype.pop),Kt=Ne(Array.prototype.push),yi=Ne(Array.prototype.splice),En=Ne(String.prototype.toLowerCase),Hn=Ne(String.prototype.toString),Ss=Ne(String.prototype.match),Zt=Ne(String.prototype.replace),Ei=Ne(String.prototype.indexOf),Ti=Ne(String.prototype.trim),Xe=Ne(Object.prototype.hasOwnProperty),Oe=Ne(RegExp.prototype.test),Yt=Ai(TypeError);function Ne(s){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vn(s,e,n)}}function Ai(s){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qn(s,t)}}function D(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:En;Ts&&Ts(s,null);let n=e.length;for(;n--;){let r=e[n];if(typeof r=="string"){const i=t(r);i!==r&&(_i(e)||(e[n]=i),r=i)}s[r]=!0}return s}function Si(s){for(let e=0;e<s.length;e++)Xe(s,e)||(s[e]=null);return s}function _t(s){const e=tr(null);for(const[t,n]of er(s))Xe(s,t)&&(Array.isArray(n)?e[t]=Si(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=_t(n):e[t]=n);return e}function Xt(s,e){for(;s!==null;){const n=wi(s,e);if(n){if(n.get)return Ne(n.get);if(typeof n.value=="function")return Ne(n.value)}s=xi(s)}function t(){return null}return t}const Rs=Le(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fn=Le(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gn=Le(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ri=Le(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jn=Le(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vi=Le(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vs=Le(["#text"]),Os=Le(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qn=Le(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Cs=Le(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kn=Le(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Oi=Ke(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ci=Ke(/<%[\w\W]*|[\w\W]*%>/gm),Li=Ke(/\$\{[\w\W]*/gm),Ni=Ke(/^data-[\-\w.\u00B7-\uFFFF]+$/),Mi=Ke(/^aria-[\-\w]+$/),nr=Ke(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ii=Ke(/^(?:\w+script|data):/i),$i=Ke(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sr=Ke(/^html$/i),Di=Ke(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ls=Object.freeze({__proto__:null,ARIA_ATTR:Mi,ATTR_WHITESPACE:$i,CUSTOM_ELEMENT:Di,DATA_ATTR:Ni,DOCTYPE_NAME:sr,ERB_EXPR:Ci,IS_ALLOWED_URI:nr,IS_SCRIPT_OR_DATA:Ii,MUSTACHE_EXPR:Oi,TMPLIT_EXPR:Li});const Vt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Pi=function(){return typeof window>"u"?null:window},Bi=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Ns=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rr(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pi();const e=A=>rr(A);if(e.version="3.2.4",e.removed=[],!s||!s.document||s.document.nodeType!==Vt.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const n=t,r=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:h,NodeFilter:u,NamedNodeMap:f=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:T}=s,L=h.prototype,w=Xt(L,"cloneNode"),Y=Xt(L,"remove"),J=Xt(L,"nextSibling"),ne=Xt(L,"childNodes"),j=Xt(L,"parentNode");if(typeof o=="function"){const A=t.createElement("template");A.content&&A.content.ownerDocument&&(t=A.content.ownerDocument)}let I,X="";const{implementation:we,createNodeIterator:ke,createDocumentFragment:B,getElementsByTagName:$e}=t,{importNode:pe}=n;let le=Ns();e.isSupported=typeof er=="function"&&typeof j=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ft,ERB_EXPR:Ze,TMPLIT_EXPR:De,DATA_ATTR:kt,ARIA_ATTR:It,IS_SCRIPT_OR_DATA:yt,ATTR_WHITESPACE:Ve,CUSTOM_ELEMENT:U}=Ls;let{IS_ALLOWED_URI:V}=Ls,H=null;const ye=D({},[...Rs,...Fn,...Gn,...jn,...vs]);let ae=null;const Et=D({},[...Os,...qn,...Cs,...kn]);let v=Object.seal(tr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,$=null,ee=!0,Me=!0,Re=!1,Ie=!0,K=!1,ce=!0,ve=!1,$t=!1,Dt=!1,rt=!1,Tt=!1,At=!1,Pt=!0,an=!1;const $n="user-content-";let St=!0,Pe=!1,tt={},Be=null;const ht=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bt=null;const cn=D({},["audio","video","img","source","image","track"]);let zt=null;const un=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rt="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let it=Ge,Ut=!1,Ht=null;const Ft=D({},[Rt,vt,Ge],Hn);let pt=D({},["mi","mo","mn","ms","mtext"]),gt=D({},["annotation-xml"]);const Dn=D({},["title","style","font","a","script"]);let ot=null;const lt=["application/xhtml+xml","text/html"],a="text/html";let p=null,m=null;const C=t.createElement("form"),oe=function(c){return c instanceof RegExp||c instanceof Function},se=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(m&&m===c)){if((!c||typeof c!="object")&&(c={}),c=_t(c),ot=lt.indexOf(c.PARSER_MEDIA_TYPE)===-1?a:c.PARSER_MEDIA_TYPE,p=ot==="application/xhtml+xml"?Hn:En,H=Xe(c,"ALLOWED_TAGS")?D({},c.ALLOWED_TAGS,p):ye,ae=Xe(c,"ALLOWED_ATTR")?D({},c.ALLOWED_ATTR,p):Et,Ht=Xe(c,"ALLOWED_NAMESPACES")?D({},c.ALLOWED_NAMESPACES,Hn):Ft,zt=Xe(c,"ADD_URI_SAFE_ATTR")?D(_t(un),c.ADD_URI_SAFE_ATTR,p):un,Bt=Xe(c,"ADD_DATA_URI_TAGS")?D(_t(cn),c.ADD_DATA_URI_TAGS,p):cn,Be=Xe(c,"FORBID_CONTENTS")?D({},c.FORBID_CONTENTS,p):ht,G=Xe(c,"FORBID_TAGS")?D({},c.FORBID_TAGS,p):{},$=Xe(c,"FORBID_ATTR")?D({},c.FORBID_ATTR,p):{},tt=Xe(c,"USE_PROFILES")?c.USE_PROFILES:!1,ee=c.ALLOW_ARIA_ATTR!==!1,Me=c.ALLOW_DATA_ATTR!==!1,Re=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,K=c.SAFE_FOR_TEMPLATES||!1,ce=c.SAFE_FOR_XML!==!1,ve=c.WHOLE_DOCUMENT||!1,rt=c.RETURN_DOM||!1,Tt=c.RETURN_DOM_FRAGMENT||!1,At=c.RETURN_TRUSTED_TYPE||!1,Dt=c.FORCE_BODY||!1,Pt=c.SANITIZE_DOM!==!1,an=c.SANITIZE_NAMED_PROPS||!1,St=c.KEEP_CONTENT!==!1,Pe=c.IN_PLACE||!1,V=c.ALLOWED_URI_REGEXP||nr,it=c.NAMESPACE||Ge,pt=c.MATHML_TEXT_INTEGRATION_POINTS||pt,gt=c.HTML_INTEGRATION_POINTS||gt,v=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&oe(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(v.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&oe(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(v.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(v.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(Me=!1),Tt&&(rt=!0),tt&&(H=D({},vs),ae=[],tt.html===!0&&(D(H,Rs),D(ae,Os)),tt.svg===!0&&(D(H,Fn),D(ae,qn),D(ae,kn)),tt.svgFilters===!0&&(D(H,Gn),D(ae,qn),D(ae,kn)),tt.mathMl===!0&&(D(H,jn),D(ae,Cs),D(ae,kn))),c.ADD_TAGS&&(H===ye&&(H=_t(H)),D(H,c.ADD_TAGS,p)),c.ADD_ATTR&&(ae===Et&&(ae=_t(ae)),D(ae,c.ADD_ATTR,p)),c.ADD_URI_SAFE_ATTR&&D(zt,c.ADD_URI_SAFE_ATTR,p),c.FORBID_CONTENTS&&(Be===ht&&(Be=_t(Be)),D(Be,c.FORBID_CONTENTS,p)),St&&(H["#text"]=!0),ve&&D(H,["html","head","body"]),H.table&&(D(H,["tbody"]),delete G.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw Yt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Yt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=c.TRUSTED_TYPES_POLICY,X=I.createHTML("")}else I===void 0&&(I=Bi(T,r)),I!==null&&typeof X=="string"&&(X=I.createHTML(""));Le&&Le(c),m=c}},k=D({},[...Fn,...Gn,...Ri]),x=D({},[...jn,...vi]),O=function(c){let d=j(c);(!d||!d.tagName)&&(d={namespaceURI:it,tagName:"template"});const E=En(c.tagName),z=En(d.tagName);return Ht[c.namespaceURI]?c.namespaceURI===vt?d.namespaceURI===Ge?E==="svg":d.namespaceURI===Rt?E==="svg"&&(z==="annotation-xml"||pt[z]):!!k[E]:c.namespaceURI===Rt?d.namespaceURI===Ge?E==="math":d.namespaceURI===vt?E==="math"&&gt[z]:!!x[E]:c.namespaceURI===Ge?d.namespaceURI===vt&&!gt[z]||d.namespaceURI===Rt&&!pt[z]?!1:!x[E]&&(Dn[E]||!k[E]):!!(ot==="application/xhtml+xml"&&Ht[c.namespaceURI]):!1},q=function(c){Kt(e.removed,{element:c});try{j(c).removeChild(c)}catch{Y(c)}},re=function(c,d){try{Kt(e.removed,{attribute:d.getAttributeNode(c),from:d})}catch{Kt(e.removed,{attribute:null,from:d})}if(d.removeAttribute(c),c==="is")if(rt||Tt)try{q(d)}catch{}else try{d.setAttribute(c,"")}catch{}},at=function(c){let d=null,E=null;if(Dt)c="<remove></remove>"+c;else{const ue=Ss(c,/^[\r\n\t ]+/);E=ue&&ue[0]}ot==="application/xhtml+xml"&&it===Ge&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const z=I?I.createHTML(c):c;if(it===Ge)try{d=new y().parseFromString(z,ot)}catch{}if(!d||!d.documentElement){d=we.createDocument(it,"template",null);try{d.documentElement.innerHTML=Ut?X:z}catch{}}const ge=d.body||d.documentElement;return c&&E&&ge.insertBefore(t.createTextNode(E),ge.childNodes[0]||null),it===Ge?$e.call(d,ve?"html":"body")[0]:ve?d.documentElement:ge},Ot=function(c){return ke.call(c.ownerDocument||c,c,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},dt=function(c){return c instanceof g&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof f)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},fn=function(c){return typeof l=="function"&&c instanceof l};function ze(A,c,d){wn(A,E=>{E.call(e,c,d,m)})}const hn=function(c){let d=null;if(ze(le.beforeSanitizeElements,c,null),dt(c))return q(c),!0;const E=p(c.nodeName);if(ze(le.uponSanitizeElement,c,{tagName:E,allowedTags:H}),c.hasChildNodes()&&!fn(c.firstElementChild)&&Oe(/<[/\w]/g,c.innerHTML)&&Oe(/<[/\w]/g,c.textContent)||c.nodeType===Vt.progressingInstruction||ce&&c.nodeType===Vt.comment&&Oe(/<[/\w]/g,c.data))return q(c),!0;if(!H[E]||G[E]){if(!G[E]&&gn(E)&&(v.tagNameCheck instanceof RegExp&&Oe(v.tagNameCheck,E)||v.tagNameCheck instanceof Function&&v.tagNameCheck(E)))return!1;if(St&&!Be[E]){const z=j(c)||c.parentNode,ge=ne(c)||c.childNodes;if(ge&&z){const ue=ge.length;for(let Ee=ue-1;Ee>=0;--Ee){const je=w(ge[Ee],!0);je.__removalCount=(c.__removalCount||0)+1,z.insertBefore(je,J(c))}}}return q(c),!0}return c instanceof h&&!O(c)||(E==="noscript"||E==="noembed"||E==="noframes")&&Oe(/<\/no(script|embed|frames)/i,c.innerHTML)?(q(c),!0):(K&&c.nodeType===Vt.text&&(d=c.textContent,wn([ft,Ze,De],z=>{d=Zt(d,z," ")}),c.textContent!==d&&(Kt(e.removed,{element:c.cloneNode()}),c.textContent=d)),ze(le.afterSanitizeElements,c,null),!1)},pn=function(c,d,E){if(Pt&&(d==="id"||d==="name")&&(E in t||E in C))return!1;if(!(Me&&!$[d]&&Oe(kt,d))){if(!(ee&&Oe(It,d))){if(!ae[d]||$[d]){if(!(gn(c)&&(v.tagNameCheck instanceof RegExp&&Oe(v.tagNameCheck,c)||v.tagNameCheck instanceof Function&&v.tagNameCheck(c))&&(v.attributeNameCheck instanceof RegExp&&Oe(v.attributeNameCheck,d)||v.attributeNameCheck instanceof Function&&v.attributeNameCheck(d))||d==="is"&&v.allowCustomizedBuiltInElements&&(v.tagNameCheck instanceof RegExp&&Oe(v.tagNameCheck,E)||v.tagNameCheck instanceof Function&&v.tagNameCheck(E))))return!1}else if(!zt[d]){if(!Oe(V,Zt(E,Ve,""))){if(!((d==="src"||d==="xlink:href"||d==="href")&&c!=="script"&&Ei(E,"data:")===0&&Bt[c])){if(!(Re&&!Oe(yt,Zt(E,Ve,"")))){if(E)return!1}}}}}}return!0},gn=function(c){return c!=="annotation-xml"&&Ss(c,U)},Gt=function(c){ze(le.beforeSanitizeAttributes,c,null);const{attributes:d}=c;if(!d||dt(c))return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae,forceKeepAttr:void 0};let z=d.length;for(;z--;){const ge=d[z],{name:ue,namespaceURI:Ee,value:je}=ge,bt=p(ue);let fe=ue==="value"?je:Ti(je);if(E.attrName=bt,E.attrValue=fe,E.keepAttr=!0,E.forceKeepAttr=void 0,ze(le.uponSanitizeAttribute,c,E),fe=E.attrValue,an&&(bt==="id"||bt==="name")&&(re(ue,c),fe=$n+fe),ce&&Oe(/((--!?|])>)|<\/(style|title)/i,fe)){re(ue,c);continue}if(E.forceKeepAttr||(re(ue,c),!E.keepAttr))continue;if(!Ie&&Oe(/\/>/i,fe)){re(ue,c);continue}K&&wn([ft,Ze,De],b=>{fe=Zt(fe,b," ")});const dn=p(c.nodeName);if(pn(dn,bt,fe)){if(I&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Ee)switch(T.getAttributeType(dn,bt)){case"TrustedHTML":{fe=I.createHTML(fe);break}case"TrustedScriptURL":{fe=I.createScriptURL(fe);break}}try{Ee?c.setAttributeNS(Ee,ue,fe):c.setAttribute(ue,fe),dt(c)?q(c):As(e.removed)}catch{}}}ze(le.afterSanitizeAttributes,c,null)},Ct=function A(c){let d=null;const E=Ot(c);for(ze(le.beforeSanitizeShadowDOM,c,null);d=E.nextNode();)ze(le.uponSanitizeShadowNode,d,null),hn(d),Gt(d),d.content instanceof i&&A(d.content);ze(le.afterSanitizeShadowDOM,c,null)};return e.sanitize=function(A){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=null,E=null,z=null,ge=null;if(Ut=!A,Ut&&(A="<!-->"),typeof A!="string"&&!fn(A))if(typeof A.toString=="function"){if(A=A.toString(),typeof A!="string")throw Yt("dirty is not a string, aborting")}else throw Yt("toString is not a function");if(!e.isSupported)return A;if($t||se(c),e.removed=[],typeof A=="string"&&(Pe=!1),Pe){if(A.nodeName){const je=p(A.nodeName);if(!H[je]||G[je])throw Yt("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof l)d=at("<!---->"),E=d.ownerDocument.importNode(A,!0),E.nodeType===Vt.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?d=E:d.appendChild(E);else{if(!rt&&!K&&!ve&&A.indexOf("<")===-1)return I&&At?I.createHTML(A):A;if(d=at(A),!d)return rt?null:At?X:""}d&&Dt&&q(d.firstChild);const ue=Ot(Pe?A:d);for(;z=ue.nextNode();)hn(z),Gt(z),z.content instanceof i&&Ct(z.content);if(Pe)return A;if(rt){if(Tt)for(ge=B.call(d.ownerDocument);d.firstChild;)ge.appendChild(d.firstChild);else ge=d;return(ae.shadowroot||ae.shadowrootmode)&&(ge=pe.call(n,ge,!0)),ge}let Ee=ve?d.outerHTML:d.innerHTML;return ve&&H["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&Oe(sr,d.ownerDocument.doctype.name)&&(Ee="<!DOCTYPE "+d.ownerDocument.doctype.name+`>
`+Ee),K&&wn([ft,Ze,De],je=>{Ee=Zt(Ee,je," ")}),I&&At?I.createHTML(Ee):Ee},e.setConfig=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(A),$t=!0},e.clearConfig=function(){m=null,$t=!1},e.isValidAttribute=function(A,c,d){m||se({});const E=p(A),z=p(c);return pn(E,z,d)},e.addHook=function(A,c){typeof c=="function"&&Kt(le[A],c)},e.removeHook=function(A,c){if(c!==void 0){const d=ki(le[A],c);return d===-1?void 0:yi(le[A],d,1)[0]}return As(le[A])},e.removeHooks=function(A){le[A]=[]},e.removeAllHooks=function(){le=Ns()},e}var Wn=rr();function zi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kn,Ms;function Ui(){if(Ms)return Kn;Ms=1;function s(a){return a instanceof Map?a.clear=a.delete=a.set=function(){throw new Error("map is read-only")}:a instanceof Set&&(a.add=a.clear=a.delete=function(){throw new Error("set is read-only")}),Object.freeze(a),Object.getOwnPropertyNames(a).forEach(p=>{const m=a[p],C=typeof m;(C==="object"||C==="function")&&!Object.isFrozen(m)&&s(m)}),a}class e{constructor(p){p.data===void 0&&(p.data={}),this.data=p.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function n(a,...p){const m=Object.create(null);for(const C in a)m[C]=a[C];return p.forEach(function(C){for(const oe in C)m[oe]=C[oe]}),m}const r="</span>",i=a=>!!a.scope,o=(a,{prefix:p})=>{if(a.startsWith("language:"))return a.replace("language:","language-");if(a.includes(".")){const m=a.split(".");return[`${p}${m.shift()}`,...m.map((C,oe)=>`${C}${"_".repeat(oe+1)}`)].join(" ")}return`${p}${a}`};class l{constructor(p,m){this.buffer="",this.classPrefix=m.classPrefix,p.walk(this)}addText(p){this.buffer+=t(p)}openNode(p){if(!i(p))return;const m=o(p.scope,{prefix:this.classPrefix});this.span(m)}closeNode(p){i(p)&&(this.buffer+=r)}value(){return this.buffer}span(p){this.buffer+=`<span class="${p}">`}}const h=(a={})=>{const p={children:[]};return Object.assign(p,a),p};class u{constructor(){this.rootNode=h(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(p){this.top.children.push(p)}openNode(p){const m=h({scope:p});this.add(m),this.stack.push(m)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(p){return this.constructor._walk(p,this.rootNode)}static _walk(p,m){return typeof m=="string"?p.addText(m):m.children&&(p.openNode(m),m.children.forEach(C=>this._walk(p,C)),p.closeNode(m)),p}static _collapse(p){typeof p!="string"&&p.children&&(p.children.every(m=>typeof m=="string")?p.children=[p.children.join("")]:p.children.forEach(m=>{u._collapse(m)}))}}class f extends u{constructor(p){super(),this.options=p}addText(p){p!==""&&this.add(p)}startScope(p){this.openNode(p)}endScope(){this.closeNode()}__addSublanguage(p,m){const C=p.root;m&&(C.scope=`language:${m}`),this.add(C)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function g(a){return a?typeof a=="string"?a:a.source:null}function y(a){return w("(?=",a,")")}function T(a){return w("(?:",a,")*")}function L(a){return w("(?:",a,")?")}function w(...a){return a.map(m=>g(m)).join("")}function Y(a){const p=a[a.length-1];return typeof p=="object"&&p.constructor===Object?(a.splice(a.length-1,1),p):{}}function J(...a){return"("+(Y(a).capture?"":"?:")+a.map(C=>g(C)).join("|")+")"}function ne(a){return new RegExp(a.toString()+"|").exec("").length-1}function j(a,p){const m=a&&a.exec(p);return m&&m.index===0}const I=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function X(a,{joinWith:p}){let m=0;return a.map(C=>{m+=1;const oe=m;let se=g(C),k="";for(;se.length>0;){const x=I.exec(se);if(!x){k+=se;break}k+=se.substring(0,x.index),se=se.substring(x.index+x[0].length),x[0][0]==="\\"&&x[1]?k+="\\"+String(Number(x[1])+oe):(k+=x[0],x[0]==="("&&m++)}return k}).map(C=>`(${C})`).join(p)}const we=/\b\B/,ke="[a-zA-Z]\\w*",B="[a-zA-Z_]\\w*",$e="\\b\\d+(\\.\\d+)?",pe="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",le="\\b(0b[01]+)",ft="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ze=(a={})=>{const p=/^#![ ]*\//;return a.binary&&(a.begin=w(p,/.*\b/,a.binary,/\b.*/)),n({scope:"meta",begin:p,end:/$/,relevance:0,"on:begin":(m,C)=>{m.index!==0&&C.ignoreMatch()}},a)},De={begin:"\\\\[\\s\\S]",relevance:0},kt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[De]},It={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[De]},yt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ve=function(a,p,m={}){const C=n({scope:"comment",begin:a,end:p,contains:[]},m);C.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const oe=J("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return C.contains.push({begin:w(/[ ]+/,"(",oe,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),C},U=Ve("//","$"),V=Ve("/\\*","\\*/"),H=Ve("#","$"),ye={scope:"number",begin:$e,relevance:0},ae={scope:"number",begin:pe,relevance:0},Et={scope:"number",begin:le,relevance:0},v={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[De,{begin:/\[/,end:/\]/,relevance:0,contains:[De]}]},G={scope:"title",begin:ke,relevance:0},$={scope:"title",begin:B,relevance:0},ee={begin:"\\.\\s*"+B,relevance:0};var Re=Object.freeze({__proto__:null,APOS_STRING_MODE:kt,BACKSLASH_ESCAPE:De,BINARY_NUMBER_MODE:Et,BINARY_NUMBER_RE:le,COMMENT:Ve,C_BLOCK_COMMENT_MODE:V,C_LINE_COMMENT_MODE:U,C_NUMBER_MODE:ae,C_NUMBER_RE:pe,END_SAME_AS_BEGIN:function(a){return Object.assign(a,{"on:begin":(p,m)=>{m.data._beginMatch=p[1]},"on:end":(p,m)=>{m.data._beginMatch!==p[1]&&m.ignoreMatch()}})},HASH_COMMENT_MODE:H,IDENT_RE:ke,MATCH_NOTHING_RE:we,METHOD_GUARD:ee,NUMBER_MODE:ye,NUMBER_RE:$e,PHRASAL_WORDS_MODE:yt,QUOTE_STRING_MODE:It,REGEXP_MODE:v,RE_STARTERS_RE:ft,SHEBANG:Ze,TITLE_MODE:G,UNDERSCORE_IDENT_RE:B,UNDERSCORE_TITLE_MODE:$});function Ie(a,p){a.input[a.index-1]==="."&&p.ignoreMatch()}function K(a,p){a.className!==void 0&&(a.scope=a.className,delete a.className)}function ce(a,p){p&&a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",a.__beforeBegin=Ie,a.keywords=a.keywords||a.beginKeywords,delete a.beginKeywords,a.relevance===void 0&&(a.relevance=0))}function ve(a,p){Array.isArray(a.illegal)&&(a.illegal=J(...a.illegal))}function $t(a,p){if(a.match){if(a.begin||a.end)throw new Error("begin & end are not supported with match");a.begin=a.match,delete a.match}}function Dt(a,p){a.relevance===void 0&&(a.relevance=1)}const rt=(a,p)=>{if(!a.beforeMatch)return;if(a.starts)throw new Error("beforeMatch cannot be used with starts");const m=Object.assign({},a);Object.keys(a).forEach(C=>{delete a[C]}),a.keywords=m.keywords,a.begin=w(m.beforeMatch,y(m.begin)),a.starts={relevance:0,contains:[Object.assign(m,{endsParent:!0})]},a.relevance=0,delete m.beforeMatch},Tt=["of","and","for","in","not","or","if","then","parent","list","value"],At="keyword";function Pt(a,p,m=At){const C=Object.create(null);return typeof a=="string"?oe(m,a.split(" ")):Array.isArray(a)?oe(m,a):Object.keys(a).forEach(function(se){Object.assign(C,Pt(a[se],p,se))}),C;function oe(se,k){p&&(k=k.map(x=>x.toLowerCase())),k.forEach(function(x){const O=x.split("|");C[O[0]]=[se,an(O[0],O[1])]})}}function an(a,p){return p?Number(p):$n(a)?0:1}function $n(a){return Tt.includes(a.toLowerCase())}const St={},Pe=a=>{console.error(a)},tt=(a,...p)=>{console.log(`WARN: ${a}`,...p)},Be=(a,p)=>{St[`${a}/${p}`]||(console.log(`Deprecated as of ${a}. ${p}`),St[`${a}/${p}`]=!0)},ht=new Error;function Bt(a,p,{key:m}){let C=0;const oe=a[m],se={},k={};for(let x=1;x<=p.length;x++)k[x+C]=oe[x],se[x+C]=!0,C+=ne(p[x-1]);a[m]=k,a[m]._emit=se,a[m]._multi=!0}function cn(a){if(Array.isArray(a.begin)){if(a.skip||a.excludeBegin||a.returnBegin)throw Pe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ht;if(typeof a.beginScope!="object"||a.beginScope===null)throw Pe("beginScope must be object"),ht;Bt(a,a.begin,{key:"beginScope"}),a.begin=X(a.begin,{joinWith:""})}}function zt(a){if(Array.isArray(a.end)){if(a.skip||a.excludeEnd||a.returnEnd)throw Pe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ht;if(typeof a.endScope!="object"||a.endScope===null)throw Pe("endScope must be object"),ht;Bt(a,a.end,{key:"endScope"}),a.end=X(a.end,{joinWith:""})}}function un(a){a.scope&&typeof a.scope=="object"&&a.scope!==null&&(a.beginScope=a.scope,delete a.scope)}function Rt(a){un(a),typeof a.beginScope=="string"&&(a.beginScope={_wrap:a.beginScope}),typeof a.endScope=="string"&&(a.endScope={_wrap:a.endScope}),cn(a),zt(a)}function vt(a){function p(k,x){return new RegExp(g(k),"m"+(a.case_insensitive?"i":"")+(a.unicodeRegex?"u":"")+(x?"g":""))}class m{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(x,O){O.position=this.position++,this.matchIndexes[this.matchAt]=O,this.regexes.push([O,x]),this.matchAt+=ne(x)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const x=this.regexes.map(O=>O[1]);this.matcherRe=p(X(x,{joinWith:"|"}),!0),this.lastIndex=0}exec(x){this.matcherRe.lastIndex=this.lastIndex;const O=this.matcherRe.exec(x);if(!O)return null;const q=O.findIndex((at,Ot)=>Ot>0&&at!==void 0),re=this.matchIndexes[q];return O.splice(0,q),Object.assign(O,re)}}class C{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(x){if(this.multiRegexes[x])return this.multiRegexes[x];const O=new m;return this.rules.slice(x).forEach(([q,re])=>O.addRule(q,re)),O.compile(),this.multiRegexes[x]=O,O}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(x,O){this.rules.push([x,O]),O.type==="begin"&&this.count++}exec(x){const O=this.getMatcher(this.regexIndex);O.lastIndex=this.lastIndex;let q=O.exec(x);if(this.resumingScanAtSamePosition()&&!(q&&q.index===this.lastIndex)){const re=this.getMatcher(0);re.lastIndex=this.lastIndex+1,q=re.exec(x)}return q&&(this.regexIndex+=q.position+1,this.regexIndex===this.count&&this.considerAll()),q}}function oe(k){const x=new C;return k.contains.forEach(O=>x.addRule(O.begin,{rule:O,type:"begin"})),k.terminatorEnd&&x.addRule(k.terminatorEnd,{type:"end"}),k.illegal&&x.addRule(k.illegal,{type:"illegal"}),x}function se(k,x){const O=k;if(k.isCompiled)return O;[K,$t,Rt,rt].forEach(re=>re(k,x)),a.compilerExtensions.forEach(re=>re(k,x)),k.__beforeBegin=null,[ce,ve,Dt].forEach(re=>re(k,x)),k.isCompiled=!0;let q=null;return typeof k.keywords=="object"&&k.keywords.$pattern&&(k.keywords=Object.assign({},k.keywords),q=k.keywords.$pattern,delete k.keywords.$pattern),q=q||/\w+/,k.keywords&&(k.keywords=Pt(k.keywords,a.case_insensitive)),O.keywordPatternRe=p(q,!0),x&&(k.begin||(k.begin=/\B|\b/),O.beginRe=p(O.begin),!k.end&&!k.endsWithParent&&(k.end=/\B|\b/),k.end&&(O.endRe=p(O.end)),O.terminatorEnd=g(O.end)||"",k.endsWithParent&&x.terminatorEnd&&(O.terminatorEnd+=(k.end?"|":"")+x.terminatorEnd)),k.illegal&&(O.illegalRe=p(k.illegal)),k.contains||(k.contains=[]),k.contains=[].concat(...k.contains.map(function(re){return it(re==="self"?k:re)})),k.contains.forEach(function(re){se(re,O)}),k.starts&&se(k.starts,x),O.matcher=oe(O),O}if(a.compilerExtensions||(a.compilerExtensions=[]),a.contains&&a.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return a.classNameAliases=n(a.classNameAliases||{}),se(a)}function Ge(a){return a?a.endsWithParent||Ge(a.starts):!1}function it(a){return a.variants&&!a.cachedVariants&&(a.cachedVariants=a.variants.map(function(p){return n(a,{variants:null},p)})),a.cachedVariants?a.cachedVariants:Ge(a)?n(a,{starts:a.starts?n(a.starts):null}):Object.isFrozen(a)?n(a):a}var Ut="11.10.0";class Ht extends Error{constructor(p,m){super(p),this.name="HTMLInjectionError",this.html=m}}const Ft=t,pt=n,gt=Symbol("nomatch"),Dn=7,ot=function(a){const p=Object.create(null),m=Object.create(null),C=[];let oe=!0;const se="Could not find the language '{}', did you forget to load/include a language module?",k={disableAutodetect:!0,name:"Plain text",contains:[]};let x={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:f};function O(b){return x.noHighlightRe.test(b)}function q(b){let R=b.className+" ";R+=b.parentNode?b.parentNode.className:"";const P=x.languageDetectRe.exec(R);if(P){const te=z(P[1]);return te||(tt(se.replace("{}",P[1])),tt("Falling back to no-highlight mode for this block.",b)),te?P[1]:"no-highlight"}return R.split(/\s+/).find(te=>O(te)||z(te))}function re(b,R,P){let te="",de="";typeof R=="object"?(te=b,P=R.ignoreIllegals,de=R.language):(Be("10.7.0","highlight(lang, code, ...args) has been deprecated."),Be("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),de=b,te=R),P===void 0&&(P=!0);const Ye={code:te,language:de};fe("before:highlight",Ye);const ct=Ye.result?Ye.result:at(Ye.language,Ye.code,P);return ct.code=Ye.code,fe("after:highlight",ct),ct}function at(b,R,P,te){const de=Object.create(null);function Ye(_,S){return _.keywords[S]}function ct(){if(!N.keywords){xe.addText(ie);return}let _=0;N.keywordPatternRe.lastIndex=0;let S=N.keywordPatternRe.exec(ie),M="";for(;S;){M+=ie.substring(_,S.index);const W=Je.case_insensitive?S[0].toLowerCase():S[0],Te=Ye(N,W);if(Te){const[nt,ur]=Te;if(xe.addText(M),M="",de[W]=(de[W]||0)+1,de[W]<=Dn&&(_n+=ur),nt.startsWith("_"))M+=S[0];else{const fr=Je.classNameAliases[nt]||nt;Qe(S[0],fr)}}else M+=S[0];_=N.keywordPatternRe.lastIndex,S=N.keywordPatternRe.exec(ie)}M+=ie.substring(_),xe.addText(M)}function bn(){if(ie==="")return;let _=null;if(typeof N.subLanguage=="string"){if(!p[N.subLanguage]){xe.addText(ie);return}_=at(N.subLanguage,ie,!0,hs[N.subLanguage]),hs[N.subLanguage]=_._top}else _=dt(ie,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(_n+=_.relevance),xe.__addSublanguage(_._emitter,_.language)}function Ue(){N.subLanguage!=null?bn():ct(),ie=""}function Qe(_,S){_!==""&&(xe.startScope(S),xe.addText(_),xe.endScope())}function as(_,S){let M=1;const W=S.length-1;for(;M<=W;){if(!_._emit[M]){M++;continue}const Te=Je.classNameAliases[_[M]]||_[M],nt=S[M];Te?Qe(nt,Te):(ie=nt,ct(),ie=""),M++}}function cs(_,S){return _.scope&&typeof _.scope=="string"&&xe.openNode(Je.classNameAliases[_.scope]||_.scope),_.beginScope&&(_.beginScope._wrap?(Qe(ie,Je.classNameAliases[_.beginScope._wrap]||_.beginScope._wrap),ie=""):_.beginScope._multi&&(as(_.beginScope,S),ie="")),N=Object.create(_,{parent:{value:N}}),N}function us(_,S,M){let W=j(_.endRe,M);if(W){if(_["on:end"]){const Te=new e(_);_["on:end"](S,Te),Te.isMatchIgnored&&(W=!1)}if(W){for(;_.endsParent&&_.parent;)_=_.parent;return _}}if(_.endsWithParent)return us(_.parent,S,M)}function ir(_){return N.matcher.regexIndex===0?(ie+=_[0],1):(zn=!0,0)}function or(_){const S=_[0],M=_.rule,W=new e(M),Te=[M.__beforeBegin,M["on:begin"]];for(const nt of Te)if(nt&&(nt(_,W),W.isMatchIgnored))return ir(S);return M.skip?ie+=S:(M.excludeBegin&&(ie+=S),Ue(),!M.returnBegin&&!M.excludeBegin&&(ie=S)),cs(M,_),M.returnBegin?0:S.length}function lr(_){const S=_[0],M=R.substring(_.index),W=us(N,_,M);if(!W)return gt;const Te=N;N.endScope&&N.endScope._wrap?(Ue(),Qe(S,N.endScope._wrap)):N.endScope&&N.endScope._multi?(Ue(),as(N.endScope,_)):Te.skip?ie+=S:(Te.returnEnd||Te.excludeEnd||(ie+=S),Ue(),Te.excludeEnd&&(ie=S));do N.scope&&xe.closeNode(),!N.skip&&!N.subLanguage&&(_n+=N.relevance),N=N.parent;while(N!==W.parent);return W.starts&&cs(W.starts,_),Te.returnEnd?0:S.length}function ar(){const _=[];for(let S=N;S!==Je;S=S.parent)S.scope&&_.unshift(S.scope);_.forEach(S=>xe.openNode(S))}let mn={};function fs(_,S){const M=S&&S[0];if(ie+=_,M==null)return Ue(),0;if(mn.type==="begin"&&S.type==="end"&&mn.index===S.index&&M===""){if(ie+=R.slice(S.index,S.index+1),!oe){const W=new Error(`0 width match regex (${b})`);throw W.languageName=b,W.badRule=mn.rule,W}return 1}if(mn=S,S.type==="begin")return or(S);if(S.type==="illegal"&&!P){const W=new Error('Illegal lexeme "'+M+'" for mode "'+(N.scope||"<unnamed>")+'"');throw W.mode=N,W}else if(S.type==="end"){const W=lr(S);if(W!==gt)return W}if(S.type==="illegal"&&M==="")return 1;if(Bn>1e5&&Bn>S.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ie+=M,M.length}const Je=z(b);if(!Je)throw Pe(se.replace("{}",b)),new Error('Unknown language: "'+b+'"');const cr=vt(Je);let Pn="",N=te||cr;const hs={},xe=new x.__emitter(x);ar();let ie="",_n=0,mt=0,Bn=0,zn=!1;try{if(Je.__emitTokens)Je.__emitTokens(R,xe);else{for(N.matcher.considerAll();;){Bn++,zn?zn=!1:N.matcher.considerAll(),N.matcher.lastIndex=mt;const _=N.matcher.exec(R);if(!_)break;const S=R.substring(mt,_.index),M=fs(S,_);mt=_.index+M}fs(R.substring(mt))}return xe.finalize(),Pn=xe.toHTML(),{language:b,value:Pn,relevance:_n,illegal:!1,_emitter:xe,_top:N}}catch(_){if(_.message&&_.message.includes("Illegal"))return{language:b,value:Ft(R),illegal:!0,relevance:0,_illegalBy:{message:_.message,index:mt,context:R.slice(mt-100,mt+100),mode:_.mode,resultSoFar:Pn},_emitter:xe};if(oe)return{language:b,value:Ft(R),illegal:!1,relevance:0,errorRaised:_,_emitter:xe,_top:N};throw _}}function Ot(b){const R={value:Ft(b),illegal:!1,relevance:0,_top:k,_emitter:new x.__emitter(x)};return R._emitter.addText(b),R}function dt(b,R){R=R||x.languages||Object.keys(p);const P=Ot(b),te=R.filter(z).filter(ue).map(Ue=>at(Ue,b,!1));te.unshift(P);const de=te.sort((Ue,Qe)=>{if(Ue.relevance!==Qe.relevance)return Qe.relevance-Ue.relevance;if(Ue.language&&Qe.language){if(z(Ue.language).supersetOf===Qe.language)return 1;if(z(Qe.language).supersetOf===Ue.language)return-1}return 0}),[Ye,ct]=de,bn=Ye;return bn.secondBest=ct,bn}function fn(b,R,P){const te=R&&m[R]||P;b.classList.add("hljs"),b.classList.add(`language-${te}`)}function ze(b){let R=null;const P=q(b);if(O(P))return;if(fe("before:highlightElement",{el:b,language:P}),b.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",b);return}if(b.children.length>0&&(x.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(b)),x.throwUnescapedHTML))throw new Ht("One of your code blocks includes unescaped HTML.",b.innerHTML);R=b;const te=R.textContent,de=P?re(te,{language:P,ignoreIllegals:!0}):dt(te);b.innerHTML=de.value,b.dataset.highlighted="yes",fn(b,P,de.language),b.result={language:de.language,re:de.relevance,relevance:de.relevance},de.secondBest&&(b.secondBest={language:de.secondBest.language,relevance:de.secondBest.relevance}),fe("after:highlightElement",{el:b,result:de,text:te})}function hn(b){x=pt(x,b)}const pn=()=>{Ct(),Be("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function gn(){Ct(),Be("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Gt=!1;function Ct(){if(document.readyState==="loading"){Gt=!0;return}document.querySelectorAll(x.cssSelector).forEach(ze)}function A(){Gt&&Ct()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",A,!1);function c(b,R){let P=null;try{P=R(a)}catch(te){if(Pe("Language definition for '{}' could not be registered.".replace("{}",b)),oe)Pe(te);else throw te;P=k}P.name||(P.name=b),p[b]=P,P.rawDefinition=R.bind(null,a),P.aliases&&ge(P.aliases,{languageName:b})}function d(b){delete p[b];for(const R of Object.keys(m))m[R]===b&&delete m[R]}function E(){return Object.keys(p)}function z(b){return b=(b||"").toLowerCase(),p[b]||p[m[b]]}function ge(b,{languageName:R}){typeof b=="string"&&(b=[b]),b.forEach(P=>{m[P.toLowerCase()]=R})}function ue(b){const R=z(b);return R&&!R.disableAutodetect}function Ee(b){b["before:highlightBlock"]&&!b["before:highlightElement"]&&(b["before:highlightElement"]=R=>{b["before:highlightBlock"](Object.assign({block:R.el},R))}),b["after:highlightBlock"]&&!b["after:highlightElement"]&&(b["after:highlightElement"]=R=>{b["after:highlightBlock"](Object.assign({block:R.el},R))})}function je(b){Ee(b),C.push(b)}function bt(b){const R=C.indexOf(b);R!==-1&&C.splice(R,1)}function fe(b,R){const P=b;C.forEach(function(te){te[P]&&te[P](R)})}function dn(b){return Be("10.7.0","highlightBlock will be removed entirely in v12.0"),Be("10.7.0","Please use highlightElement now."),ze(b)}Object.assign(a,{highlight:re,highlightAuto:dt,highlightAll:Ct,highlightElement:ze,highlightBlock:dn,configure:hn,initHighlighting:pn,initHighlightingOnLoad:gn,registerLanguage:c,unregisterLanguage:d,listLanguages:E,getLanguage:z,registerAliases:ge,autoDetection:ue,inherit:pt,addPlugin:je,removePlugin:bt}),a.debugMode=function(){oe=!1},a.safeMode=function(){oe=!0},a.versionString=Ut,a.regex={concat:w,lookahead:y,either:J,optional:L,anyNumberOfTimes:T};for(const b in Re)typeof Re[b]=="object"&&s(Re[b]);return Object.assign(a,Re),a},lt=ot({});return lt.newInstance=()=>ot({}),Kn=lt,lt.HighlightJS=lt,lt.default=lt,Kn}var Hi=Ui();const Zn=zi(Hi),Fi={label:"Run or edit the query",title:"Open the SPARQL query in an editor in a new tab"};function Gi(s,e=""){return`https://sib-swiss.github.io/sparql-editor/?${e?`endpoint=${e}&`:""}query=${encodeURIComponent(s)}`}const ji=`chat-with-context {
  button:hover {
    filter: brightness(90%);
  }
}
.iconBtn {
  filter: invert(44%) sepia(22%) saturate(496%) hue-rotate(176deg) brightness(93%) contrast(79%);
}`;function qi(s){var e={keyword:"base|10 prefix|10 @base|10 @prefix|10",literal:"true|0 false|0",built_in:"a|0"},t={className:"literal",relevance:1,begin:/</,end:/>/,illegal:/[^\x00-\x20<>"{}|^`]/},n="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F",r=n+"_",i="-"+r+"0-9·̀-ͯ‿-⁀",o="_:["+r+"0-9](["+i+".]*["+i+"])?",l="["+n+"](["+i+".]*["+i+"])?",h="%[0-9A-Fa-f][0-9A-Fa-f]",u="\\\\[_~.!$&'()*+,;=/?#@%-]",f=h+"|"+u,g="("+l+")?:",y="(["+r+":0-9]|"+f+")(["+i+".:]|"+f+")*(["+i+":]|"+f+")?",T=g+y,L=g+"("+y+")?",w={begin:L,relevance:0,className:"symbol"},Y={begin:o,relevance:10,className:"template-variable"},J={begin:/@[a-zA-Z]+([a-zA-Z0-9-]+)*/,className:"type",relevance:5},ne={begin:"\\^\\^"+T,className:"type",relevance:10},j={begin:/'''/,end:/'''/,className:"string",relevance:0},I={begin:/"""/,end:/"""/,className:"string",relevance:0},X=JSON.parse(JSON.stringify(s.APOS_STRING_MODE));X.relevance=0;var we=JSON.parse(JSON.stringify(s.QUOTE_STRING_MODE));we.relevance=0;var ke=JSON.parse(JSON.stringify(s.C_NUMBER_MODE));return ke.relevance=0,{case_insensitive:!0,keywords:e,aliases:["turtle","ttl","n3","ntriples","shex","trig"],contains:[J,ne,t,Y,w,j,I,X,we,ke,s.HASH_COMMENT_MODE],exports:{LANGTAG:J,DATATYPE:ne,IRI_LITERAL:t,BLANK_NODE:Y,PNAME:w,TRIPLE_APOS_STRING:j,TRIPLE_QUOTE_STRING:I,APOS_STRING_LITERAL:X,QUOTE_STRING_LITERAL:we,NUMBER:ke,KEYWORDS:e}}}function Wi(s){var e=s.getLanguage("ttl").exports,t={keyword:"base|10 prefix|10 @base|10 @prefix|10 add all as|0 ask bind by|0 clear construct|10 copymove create data default define delete describe distinct drop exists filter from|0 graph|10 group having in|0 insert limit load minus named|10 not offset optional order reduced select|0 service silent to union using values where with|0",function:"abs asc avg bound ceil coalesce concat containsstrbefore count dayhours desc encode_for_uri floor group_concat if|0 iri isblank isiri isliteral isnumeric isuri langdatatype langmatches lcase max md5 min|0 minutes month now rand regex replace round sameterm sample seconds separator sha1 sha256 sha384 sha512 str strafter strdt strends strlang strlen strstarts struuid substr sum then timezone tz ucase uribnode uuid year",literal:"true|0 false|0",built_in:"a|0"},n={className:"variable",begin:"[?$]"+s.IDENT_RE,relevance:0},r={begin:/"""\s*\{/,end:/"""/,subLanguage:"json",excludeBegin:!0,excludeEnd:!0,relevance:0},i={begin:/'''\s*\{/,end:/'''/,subLanguage:"json",excludeBegin:!0,excludeEnd:!0,relevance:0};return{case_insensitive:!0,keywords:t,aliases:["sparql","rql","rq","ru"],contains:[e.LANGTAG,e.DATATYPE,e.IRI_LITERAL,e.BLANK_NODE,e.PNAME,n,r,i,e.TRIPLE_QUOTE_STRING,e.TRIPLE_APOS_STRING,e.QUOTE_STRING_LITERAL,e.APOS_STRING_LITERAL,e.NUMBER,s.HASH_COMMENT_MODE]}}const Ki="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-send'%3e%3cline%20x1='22'%20y1='2'%20x2='11'%20y2='13'%3e%3c/line%3e%3cpolygon%20points='22%202%2015%2022%2011%2013%202%209%2022%202'%3e%3c/polygon%3e%3c/svg%3e",Is="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-x'%3e%3cline%20x1='18'%20y1='6'%20x2='6'%20y2='18'%3e%3c/line%3e%3cline%20x1='6'%20y1='6'%20x2='18'%20y2='18'%3e%3c/line%3e%3c/svg%3e",Zi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-edit'%3e%3cpath%20d='M11%204H4a2%202%200%200%200-2%202v14a2%202%200%200%200%202%202h14a2%202%200%200%200%202-2v-7'%3e%3c/path%3e%3cpath%20d='M18.5%202.5a2.121%202.121%200%200%201%203%203L12%2015l-4%201%201-4%209.5-9.5z'%3e%3c/path%3e%3c/svg%3e",Yi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-square'%3e%3crect%20x='3'%20y='3'%20width='18'%20height='18'%20rx='2'%20ry='2'%3e%3c/rect%3e%3c/svg%3e",Xi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-thumbs-down'%3e%3cpath%20d='M10%2015v4a3%203%200%200%200%203%203l4-9V2H5.72a2%202%200%200%200-2%201.7l-1.38%209a2%202%200%200%200%202%202.3zm7-13h2.67A2.31%202.31%200%200%201%2022%204v7a2.31%202.31%200%200%201-2.33%202H17'%3e%3c/path%3e%3c/svg%3e",Vi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-thumbs-up'%3e%3cpath%20d='M14%209V5a3%203%200%200%200-3-3l-4%209v11h11.28a2%202%200%200%200%202-1.7l1.38-9a2%202%200%200%200-2-2.3zM7%2022H4a2%202%200%200%201-2-2v-7a2%202%200%200%201%202-2h3'%3e%3c/path%3e%3c/svg%3e";class Qi{constructor({apiUrl:e="",apiKey:t="",model:n=""}){this.abortRequest=()=>{this.abortController.abort(),this.abortController=new AbortController},this.lastMsg=()=>this.messages()[this.messages().length-1],this.scrollToInput=()=>{},this.appendMessage=(o,l="assistant")=>{const[h,u]=Fe(o),[f,g]=Fe([]),[y,T]=Fe([]),L={content:h,setContent:u,steps:f,setSteps:g,role:l,links:y,setLinks:T};this.setMessages(w=>[...w,L])},this.appendContentToLastMsg=(o,l=!1)=>{this.lastMsg().setContent(h=>h+(l?`

`:"")+o),this.onMessageUpdate()},this.appendStepToLastMsg=(o,l,h="",u=[])=>{this.lastMsg().setSteps(f=>[...f,{node_id:o,label:l,details:h,substeps:u}]),this.scrollToInput(),this.onMessageUpdate()},this.apiUrl=e,this.apiKey=t,this.model=n;const[r,i]=Fe([]);this.messages=r,this.setMessages=i,this.abortController=new AbortController,this.onMessageUpdate=()=>{}}}async function Ji(s,e){s.appendMessage(e,"user"),await to(s)}async function eo(s,e){if(e.event==="error")throw new Error(`An error occurred. Please try again. ${e.data.error}: ${e.data.message}`);if(e.event==="updates")for(const t of Object.keys(e.data)){const n=e.data[t];if(n){if(n.steps)for(const r of n.steps)r.type==="recall"?s.appendMessage("","assistant"):r.fixed_message&&s.lastMsg().setContent(r.fixed_message),s.appendStepToLastMsg(t,r.label,r.details,r.substeps);n.structured_output&&n.structured_output.sparql_query&&s.lastMsg().setLinks([{url:Gi(n.structured_output.sparql_query,n.structured_output.sparql_endpoint_url),...Fi}])}}if(e.event==="messages"){const[t,n]=e.data;if(n.structured_output_format)return;if(t.content&&t.type==="tool"){const r=t.name?t.name.replace(/_/g," ").replace(/^\w/,o=>o.toUpperCase()):"Tool",i=t.name.includes("resources")?"📚":t.name.includes("execute")?"📡":"🔧";s.appendMessage("","assistant"),s.appendStepToLastMsg(n.langgraph_node,`${i} ${r}`,t.content)}else t.content==="</think>"&&t.type==="AIMessageChunk"?(s.appendContentToLastMsg(t.content),s.appendStepToLastMsg(n.langgraph_node,"💭 Thought process",s.lastMsg().content()),s.lastMsg().setContent("")):t.content&&t.type==="AIMessageChunk"&&n.langgraph_node==="call_model"&&s.appendContentToLastMsg(t.content)}}async function to(s){var i;const e=await fetch(`${s.apiUrl}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.apiKey}`},signal:s.abortController.signal,body:JSON.stringify({messages:s.messages().map(({content:o,role:l})=>({content:o(),role:l})),stream:!0,...s.model?{model:s.model}:{}})});s.appendMessage("","assistant");const t=(i=e.body)==null?void 0:i.getReader(),n=new TextDecoder("utf-8");let r="";for(;;)if(t){const{value:o,done:l}=await t.read();if(l)break;const h=n.decode(o,{stream:!0});r+=h;let u=r.split(`
`);r=u.pop()||"";for(const f of u.filter(g=>g.trim()!=="")){if(f==="data: [DONE]")return;if(f.startsWith("data: "))try{const g=JSON.parse(f.substring(6));eo(s,g)}catch(g){console.log("Error parsing line",g,f)}}}}var no=Se('<div><style></style><div></div><form class="p-2 flex"><div class="container flex mx-auto max-w-5xl"><textarea autofocus class="flex-grow px-4 py-2 h-auto border border-slate-400 bg-slate-200 dark:bg-slate-700 dark:border-slate-500 rounded-3xl focus:outline-none focus:ring focus:ring-blue-200 dark:focus:ring-blue-400 overflow-y-hidden resize-none"placeholder="Ask your question"rows=1></textarea><button type=submit class="ml-2 px-4 py-2 rounded-3xl text-slate-500 bg-slate-200 dark:text-slate-400 dark:bg-slate-700"></button><button title="Start a new conversation"class="ml-2 px-4 py-2 rounded-3xl text-slate-500 bg-slate-200 dark:text-slate-400 dark:bg-slate-700"><img alt="Start a new conversation"class=iconBtn>'),so=Se('<div><div><div class="flex flex-col items-start"></div><article class="prose max-w-full">'),$s=Se('<button class="text-gray-600 ml-8 mb-4 px-3 py-1 border border-gray-300 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors">'),ro=Se('<dialog class="bg-white dark:bg-gray-800 m-3 rounded-3xl shadow-md w-full"><button class="fixed top-2 right-8 m-3 px-2 text-xl text-slate-500 bg-gray-200 dark:bg-gray-700 rounded-3xl"title="Close documents details"><img alt="Close the dialog"class=iconBtn></button><article class="prose max-w-full p-3"><div class="flex space-x-2 mb-4">'),io=Se("<button>"),oo=Se('<article class="prose max-w-full">'),lo=Se('<dialog class="bg-white dark:bg-gray-800 m-3 rounded-3xl shadow-md w-full"><button class="fixed top-2 right-8 m-3 px-2 text-xl text-slate-500 bg-gray-200 dark:bg-gray-700 rounded-3xl"title="Close step details"><img alt="Close the dialog"class=iconBtn></button><article class="prose max-w-full p-6">'),ao=Se('<p class="text-gray-400 ml-8 mb-4">'),co=Se('<a target=_blank class=hover:text-inherit><button class="my-3 mr-1 px-3 py-1 text-sm bg-gray-300 dark:bg-gray-700 rounded-3xl align-middle">'),uo=Se('<button class="mr-1 my-3 px-3 py-1 text-sm hover:bg-gray-300 dark:hover:bg-gray-800 rounded-3xl align-middle"title="Report a good response"><img alt="Thumbs up"height=20px width=20px class=iconBtn>'),fo=Se('<button class="my-3 px-3 py-1 text-sm hover:bg-gray-300 dark:hover:bg-gray-800 rounded-3xl align-middle"title="Report a bad response"><img alt="Thumbs down"height=20px width=20px class=iconBtn>'),ho=Se('<div class=text-center><div class="bg-orange-300 p-2 text-orange-900 text-sm rounded-3xl font-semibold mb-2 inline-block">'),po=Se('<img alt="Stop generation"class=iconBtn>'),go=Se('<img alt="Send question"class=iconBtn>'),bo=Se('<div class="py-2 px-4 justify-center items-center text-sm flex flex-col space-y-2">'),mo=Se('<button class="px-5 py-2.5 bg-slate-200 text-slate-600 rounded-3xl">');Hr("chat-with-context",{chatEndpoint:"",examples:"",apiKey:"",feedbackEndpoint:"",model:""},s=>{$r(),Zn.registerLanguage("ttl",qi),Zn.registerLanguage("sparql",Wi);const[e,t]=Fe([]),[n,r]=Fe(""),[i,o]=Fe(!1),[l,h]=Fe(""),[u,f]=Fe(""),[g,y]=Fe(""),[T,L]=Fe(!1),w=new Qi({});let Y,J;F.use({gfm:!0}),ps(()=>{s.chatEndpoint===""&&r("Please provide an API URL for the chat component to work."),w.apiUrl=s.chatEndpoint,w.apiKey=s.apiKey,w.model=s.model,w.scrollToInput=()=>J.scrollIntoView({behavior:"smooth"}),w.onMessageUpdate=()=>I(),t(s.examples.split(",").map(B=>B.trim())),y(s.feedbackEndpoint),ke()});const ne=B=>{h(B),document.getElementById(B).showModal(),history.pushState({dialogOpen:!0},""),document.body.style.overflow="hidden",I()},j=()=>{document.body.style.overflow="";const B=document.getElementById(l());B&&B.close(),h("")};ps(()=>{window.addEventListener("popstate",B=>{l()&&(B.preventDefault(),j())})});const I=()=>{document.querySelectorAll("pre code:not(.hljs)").forEach(B=>{Zn.highlightElement(B)})};async function X(B){if(!B.trim()||i())return;J.value="",o(!0),r(""),setTimeout(()=>ke(),0);const $e=Date.now();try{await Ji(w,B)}catch(pe){pe instanceof Error&&pe.name!=="AbortError"&&(console.error("An error occurred when querying the API:",pe),r("An error occurred when querying the API. Please try again or contact an admin."))}o(!1),L(!1),I(),w.scrollToInput(),console.log(`Request completed in ${(Date.now()-$e)/1e3} seconds`)}function we(B){fetch(g(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({like:B,messages:w.messages().map($e=>({role:$e.role,content:$e.content(),steps:$e.steps().map(pe=>({label:pe.label,details:pe.details,node_id:pe.node_id,substeps:pe.substeps}))}))})}),L(!0)}function ke(){J.style.height="auto",J.style.height=J.scrollHeight+"px"}return(()=>{var B=no(),$e=B.firstChild,pe=$e.nextSibling,le=pe.nextSibling,ft=le.firstChild,Ze=ft.firstChild,De=Ze.nextSibling,kt=De.nextSibling,It=kt.firstChild;be($e,ji);var yt=Y;typeof yt=="function"?bs(yt,pe):Y=pe,be(pe,Lt(Nt,{get each(){return w.messages()},children:(U,V)=>(()=>{var H=so(),ye=H.firstChild,ae=ye.firstChild,Et=ae.nextSibling;return be(ae,Lt(Nt,{get each(){return U.steps()},children:(v,G)=>v.substeps&&v.substeps.length>0?[(()=>{var $=$s();return $.$$click=()=>{var ee,Me;f(((Me=(ee=v.substeps)==null?void 0:ee[0])==null?void 0:Me.label)||""),ne(`step-dialog-${V()}-${G()}`)},be($,()=>v.label),He(()=>_e($,"title",`Click to see the documents used to generate the response

Node: ${v.node_id}`)),$})(),(()=>{var $=ro(),ee=$.firstChild,Me=ee.firstChild,Re=ee.nextSibling,Ie=Re.firstChild;return $.addEventListener("close",()=>j()),ee.$$click=()=>j(),_e(Me,"src",Is),be(Ie,Lt(Nt,{get each(){return v.substeps.map(K=>K.label)},children:K=>(()=>{var ce=io();return ce.$$click=()=>{f(K),I()},_e(ce,"title",`Show ${K}`),be(ce,K),He(()=>jt(ce,`px-4 py-2 rounded-lg transition-all ${u()===K?"bg-gray-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`)),ce})()})),be(Re,Lt(Nt,{get each(){return v.substeps.filter(K=>K.label===u())},children:K=>(()=>{var ce=oo();return He(()=>ce.innerHTML=Wn.sanitize(F.parse(K.details),{ADD_TAGS:["think"]})),ce})()}),null),He(K=>{var ce=`step-dialog-${V()}-${G()}`,ve=`close-dialog-${V()}-${G()}`;return ce!==K.e&&_e($,"id",K.e=ce),ve!==K.t&&_e(ee,"id",K.t=ve),K},{e:void 0,t:void 0}),$})()]:v.details?[(()=>{var $=$s();return $.$$click=()=>{ne(`step-dialog-${V()}-${G()}`)},be($,()=>v.label),He(()=>_e($,"title",`Click to see the documents used to generate the response

Node: ${v.node_id}`)),$})(),(()=>{var $=lo(),ee=$.firstChild,Me=ee.firstChild,Re=ee.nextSibling;return $.addEventListener("close",()=>j()),ee.$$click=()=>j(),_e(Me,"src",Is),He(Ie=>{var K=`step-dialog-${V()}-${G()}`,ce=`close-dialog-${V()}-${G()}`,ve=Wn.sanitize(F.parse(v.details),{ADD_TAGS:["think"]});return K!==Ie.e&&_e($,"id",Ie.e=K),ce!==Ie.t&&_e(ee,"id",Ie.t=ce),ve!==Ie.a&&(Re.innerHTML=Ie.a=ve),Ie},{e:void 0,t:void 0,a:void 0}),$})()]:(()=>{var $=ao();return be($,()=>v.label),He(()=>_e($,"title",`Node: ${v.node_id}`)),$})()})),be(ye,Lt(Nt,{get each(){return U.links()},children:v=>(()=>{var G=co(),$=G.firstChild;return be($,()=>v.label),He(ee=>{var Me=v.url,Re=v.title;return Me!==ee.e&&_e(G,"href",ee.e=Me),Re!==ee.t&&_e(G,"title",ee.t=Re),ee},{e:void 0,t:void 0}),G})()}),null),be(ye,(()=>{var v=Qt(()=>!!(g()&&U.role==="assistant"&&V()===w.messages().length-1&&w.lastMsg().content()&&!T()));return()=>v()&&[(()=>{var G=uo(),$=G.firstChild;return G.$$click=()=>we(!0),_e($,"src",Vi),G})(),(()=>{var G=fo(),$=G.firstChild;return G.$$click=()=>we(!1),_e($,"src",Xi),G})()]})(),null),He(v=>{var G=`w-full flex flex-col flex-grow ${U.role==="user"?"items-end":""}`,$=`py-2.5 mb-2 ${U.role==="user"?"bg-gray-300 rounded-3xl px-5":""}`,ee=Wn.sanitize(F.parse(U.content()),{ADD_TAGS:["think"]});return G!==v.e&&jt(H,v.e=G),$!==v.t&&jt(ye,v.t=$),ee!==v.a&&(Et.innerHTML=v.a=ee),v},{e:void 0,t:void 0,a:void 0}),H})()})),be(B,(()=>{var U=Qt(()=>!!n());return()=>U()&&(()=>{var V=ho(),H=V.firstChild;return be(H,n),V})()})(),le),le.addEventListener("submit",U=>{U.preventDefault(),U.type==="submit"&&U.submitter&&i()&&w.abortRequest(),X(J.value)}),Ze.$$input=()=>ke(),Ze.$$keydown=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),X(J.value))};var Ve=J;return typeof Ve=="function"?bs(Ve,Ze):J=Ze,be(De,(()=>{var U=Qt(()=>!!i());return()=>U()?(()=>{var V=po();return _e(V,"src",Yi),V})():(()=>{var V=go();return _e(V,"src",Ki),V})()})()),kt.$$click=()=>w.setMessages([]),_e(It,"src",Zi),be(B,(()=>{var U=Qt(()=>w.messages().length<1);return()=>U()&&(()=>{var V=bo();return be(V,Lt(Nt,{get each(){return e()},children:H=>(()=>{var ye=mo();return ye.$$click=()=>X(H),be(ye,H),ye})()})),V})()})(),null),He(U=>{var V=`chat-with-context w-full h-full flex flex-col ${w.messages().length===0?"justify-center":""}`,H=`overflow-y-auto ${w.messages().length!==0?"flex-grow":""}`,ye=i()?"Stop generation":"Send question";return V!==U.e&&jt(B,U.e=V),H!==U.t&&jt(pe,U.t=H),ye!==U.a&&_e(De,"title",U.a=ye),U},{e:void 0,t:void 0,a:void 0}),B})()});Sr(["keydown","input","click"]);
